-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 28-11-2024 a las 04:46:20
-- Versión del servidor: 10.4.32-MariaDB
-- Versión de PHP: 8.0.30

CREATE DATABASE sistemaexamenes;

USE sistemaexamenes;


SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `sistemaexamenes`
--

DELIMITER $$
--
-- Procedimientos
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `alumnosPorGrupo` (IN `grupoid` INT(11), OUT `alumnos` INT)   BEGIN
    SET alumnos = (
        SELECT COUNT(*)
        FROM registro
        WHERE grupo = grupoid
    );
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `matricula` (OUT `id_matri` VARCHAR(12))   BEGIN
    DECLARE day VARCHAR(2);
    DECLARE month VARCHAR(2);
    DECLARE year VARCHAR(2);
    DECLARE alumnos VARCHAR(4);
    SET year = (RIGHT(YEAR(CURDATE()), 2));
    SET month = (LPAD(MONTH(CURDATE()), 2, '0'));
    SET day = (LPAD(DAY(CURDATE()), 2, '0'));
    SET alumnos = (SELECT LPAD(COUNT(*) + 1, 4, '0') FROM alumno);

    SET id_matri = CONCAT(month, year, day, alumnos);
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `numero_empleado` (OUT `id_empleado` VARCHAR(11))   BEGIN
  DECLARE day VARCHAR(2);
  DECLARE month VARCHAR(2);
  DECLARE year VARCHAR(2);
  DECLARE empleado VARCHAR(4);

    SET year = (RIGHT(YEAR(CURDATE()), 2));
    SET month =  (LPAD(MONTH(CURDATE()), 2, '0'));
    SET day =  (LPAD(DAY(CURDATE()), 2, '0'));
    SET empleado = (select LPAD(COUNT(*), 3, '0') FROM docente);

    SET id_empleado = CONCAT( year, day, month, empleado);
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `administrador`
--

CREATE TABLE `administrador` (
  `id_admin` varchar(13) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `apellidoP` varchar(30) NOT NULL,
  `apellidoM` varchar(30) DEFAULT NULL,
  `telefono` varchar(25) NOT NULL,
  `correo` varchar(100) NOT NULL,
  `foto` varchar(100) DEFAULT 'default.png',
  `fecha_creacion` date NOT NULL,
  `contador` int(3) NOT NULL DEFAULT 0,
  `genero` enum('M','F') NOT NULL,
  `fechaNacimiento` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `administrador`
--

INSERT INTO `administrador` (`id_admin`, `nombre`, `apellidoP`, `apellidoM`, `telefono`, `correo`, `foto`, `fecha_creacion`, `contador`, `genero`, `fechaNacimiento`) VALUES
('415001', 'Josue Elihu', 'Moreno', 'Ramirez', '6641234567', '415001@admin-integri.edu.mx', '415001.jpg', '2024-11-25', 0, 'M', '2005-03-29'),
('416001', 'Elihu', 'Moreno', 'Ramirez', '6641234567', '416001@admin-integri.edu.mx', '416001.jpg', '2024-11-26', 0, 'M', '2005-03-29'),
('416002', 'Elihu', 'Moreno', 'Ramirez', '6641234567', '416002@admin-integri.edu.mx', '416002.jpg', '2024-11-26', 0, 'M', '2005-03-29');

--
-- Disparadores `administrador`
--
DELIMITER $$
CREATE TRIGGER `after_insert_admin` AFTER INSERT ON `administrador` FOR EACH ROW BEGIN
    INSERT INTO usuarios (password, tipo_usuario, identificador_usuario)
    VALUES (SHA2(NEW.id_admin, 256), 'administrador', NEW.id_admin);
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `before_insert_administrador` BEFORE INSERT ON `administrador` FOR EACH ROW BEGIN
  DECLARE year_part CHAR(1);        -- Último dígito del año
  DECLARE month_part CHAR(1);       -- Último dígito del mes
  DECLARE day_part CHAR(1);         -- Último dígito del día
  DECLARE counter_part CHAR(3);     -- 3 dígitos para el contador autoincremental
  
  -- Establecer la fecha de creación
  SET NEW.fecha_creacion = CURDATE();
  
  -- Obtener las partes de la fecha
  SET year_part = RIGHT(YEAR(NEW.fecha_creacion), 1);       -- Último dígito del año
  SET month_part = RIGHT(LPAD(MONTH(NEW.fecha_creacion), 2, '0'), 1);  -- Último dígito del mes
  SET day_part = RIGHT(LPAD(DAY(NEW.fecha_creacion), 2, '0'), 1);     -- Último dígito del día
  
  -- Incrementar el contador si la fecha es la misma, o reiniciar si es un nuevo día
  IF EXISTS (SELECT 1 FROM administrador WHERE fecha_creacion = NEW.fecha_creacion) THEN
    -- Obtener el contador más alto para la misma fecha
    SET counter_part = LPAD((SELECT MAX(CAST(SUBSTRING(id_admin, 5, 3) AS UNSIGNED)) + 1
                            FROM administrador 
                            WHERE fecha_creacion = NEW.fecha_creacion), 3, '0');
  ELSE
    -- Reiniciar el contador si es un nuevo día
    SET counter_part = '001';
  END IF;

  -- Generar el id_admin combinando las partes
  SET NEW.id_admin = CONCAT(year_part, month_part, day_part, counter_part);

  -- Generar el correo electrónico basado en id_admin
  SET NEW.correo = CONCAT(NEW.id_admin, '@admin-integri.edu.mx');

  -- Generar el nombre de la foto basado en id_admin
  SET NEW.foto = CONCAT(NEW.id_admin, '.jpg');
  
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `alumno`
--

CREATE TABLE `alumno` (
  `matricula` varchar(10) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `apellidoP` varchar(30) NOT NULL,
  `apellidoM` varchar(30) DEFAULT NULL,
  `promedio` decimal(10,2) DEFAULT 0.00,
  `cantidadExams` int(11) NOT NULL DEFAULT 0,
  `correo` varchar(100) NOT NULL,
  `telefono` varchar(50) NOT NULL,
  `foto` varchar(100) DEFAULT 'default.png',
  `genero` enum('M','F') NOT NULL,
  `fechaNacimiento` date NOT NULL,
  `curp` varchar(18) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `alumno`
--

INSERT INTO `alumno` (`matricula`, `nombre`, `apellidoP`, `apellidoM`, `promedio`, `cantidadExams`, `correo`, `telefono`, `foto`, `genero`, `fechaNacimiento`, `curp`) VALUES
('1124070085', 'Edgar', 'Castillo', 'Topete', 3.34, 3, '1124070085@integri-test.edu.mx', '', '1124070085.jpg', 'M', '0000-00-00', ''),
('2203290000', 'Sebastian', 'Abundiz', 'Cardona', 8.00, 14, '2203290000@integri-test.edu.mx', '', '2203290000.jpg', 'M', '0000-00-00', ''),
('2203290001', 'Michelle Alejandra', 'Altamirano', 'Estrada', 7.13, 8, '2203290001@integri-test.edu.mx', '', '2203290001.jpg', 'M', '0000-00-00', ''),
('2203290002', 'Leonardo', 'Ayala', 'Quintero', 8.33, 9, '2203290002@integri-test.edu.mx', '', '2203290002.jpg', 'M', '0000-00-00', ''),
('2203290003', 'Alfonso Gabriel', 'Castro', 'González', 8.89, 9, '2203290003@integri-test.edu.mx', '', '2203290003.jpg', 'M', '0000-00-00', ''),
('2203290004', 'Marcos Gael', 'Chavez', 'Alferes', 8.56, 9, '2203290004@integri-test.edu.mx', '', '2203290004.jpg', 'M', '0000-00-00', ''),
('2203290005', 'Daniel Salomon', 'Diaz', 'Cortes', 8.44, 9, '2203290005@integri-test.edu.mx', '', '2203290005.jpg', 'M', '0000-00-00', ''),
('2203290006', 'Eduardo Angel', 'Diaz', 'Salazar', 7.75, 8, '2203290006@integri-test.edu.mx', '', '2203290006.jpg', 'M', '0000-00-00', ''),
('2203290007', 'Jean Carlo', 'Estrada', 'Garate', 8.88, 8, '2203290007@integri-test.edu.mx', '', '2203290007.jpg', 'M', '0000-00-00', ''),
('2203290008', 'Roberto Carlos', 'Farias', 'Bahena', 6.88, 8, '2203290008@integri-test.edu.mx', '', '2203290008.jpg', 'M', '0000-00-00', ''),
('2203290009', 'Oscar Daniel', 'Garcia', 'Martinez', 9.38, 8, '2203290009@integri-test.edu.mx', '', '2203290009.jpg', 'M', '0000-00-00', ''),
('2203290010', 'Kevin Giovanni', 'Gomez', 'Flores', 8.75, 8, '2203290010@integri-test.edu.mx', '', '2203290010.jpg', 'M', '0000-00-00', ''),
('2203290011', 'Paulette Ariana', 'Hernandez', 'Garcia', 8.88, 8, '2203290011@integri-test.edu.mx', '', '2203290011.jpg', 'M', '0000-00-00', ''),
('2203290012', 'Saul Hiram', 'Hurtado', 'Loreto', 9.00, 8, '2203290012@integri-test.edu.mx', '', '2203290012.jpg', 'M', '0000-00-00', ''),
('2203290013', 'Angel Raul', 'Leana', 'Sosa', 7.88, 8, '2203290013@integri-test.edu.mx', '', '2203290013.jpg', 'M', '0000-00-00', ''),
('2203290014', 'Miguel Angel', 'Martinez', 'Godoy', 7.88, 8, '2203290014@integri-test.edu.mx', '', '2203290014.jpg', 'M', '0000-00-00', ''),
('2203290015', 'Hector Javier', 'Martinez', 'Rivera', 8.38, 8, '2203290015@integri-test.edu.mx', '', '2203290015.jpg', 'M', '0000-00-00', ''),
('2203290016', 'Luis Alberto', 'Morales', 'Nava', 8.50, 8, '2203290016@integri-test.edu.mx', '', '2203290016.jpg', 'M', '0000-00-00', ''),
('2203290017', 'Brayahn Michell', 'Nuñez', 'Ramirez', 8.50, 8, '2203290017@integri-test.edu.mx', '', '2203290017.jpg', 'M', '0000-00-00', ''),
('2203290018', 'Alexa', 'Perez', 'Morales', 8.25, 8, '2203290018@integri-test.edu.mx', '', '2203290018.jpg', 'M', '0000-00-00', ''),
('2203290019', 'Carlos Andres', 'Ramirez', 'Ulloa', 8.13, 8, '2203290019@integri-test.edu.mx', '', '2203290019.jpg', 'M', '0000-00-00', ''),
('2305140000', 'Erick Sidrac', 'Alvares', 'Salazar', 7.57, 7, '2305140000@integri-test.edu.mx', '', '2305140000.jpg', 'M', '0000-00-00', ''),
('2305140002', 'Antonio', 'Barragan', 'Hernandez', 8.57, 7, '2305140002@integri-test.edu.mx', '', '2305140002.jpg', 'M', '0000-00-00', ''),
('2305140003', 'Estefania', 'Betancourt', 'López', 8.86, 7, '2305140003@integri-test.edu.mx', '', '2305140003.jpg', 'M', '0000-00-00', ''),
('2305140004', 'Antonio Azael', 'Dominguez', 'Galvez', 8.00, 7, '2305140004@integri-test.edu.mx', '', '2305140004.jpg', 'M', '0000-00-00', ''),
('2305140005', 'Angel Geovanny', 'Gameros', 'Garcia', 9.00, 7, '2305140005@integri-test.edu.mx', '', '2305140005.jpg', 'M', '0000-00-00', ''),
('2305140006', 'Yahir', 'Garcia', 'Alonso', 8.14, 7, '2305140006@integri-test.edu.mx', '', '2305140006.jpg', 'M', '0000-00-00', ''),
('2305140007', 'Adrian', 'Gonzalez', 'Lara', 8.71, 7, '2305140007@integri-test.edu.mx', '', '2305140007.jpg', 'M', '0000-00-00', ''),
('2305140008', 'Gonzalo Isaac', 'Hernandez', 'Cota', 9.43, 7, '2305140008@integri-test.edu.mx', '', '2305140008.jpg', 'M', '0000-00-00', ''),
('2305140009', 'Julian Javier', 'Hernandez', 'Ornelas', 7.29, 7, '2305140009@integri-test.edu.mx', '', '2305140009.jpg', 'M', '0000-00-00', ''),
('2305140010', 'Perla Patricia', 'Jaques', 'Navarro', 8.00, 7, '2305140010@integri-test.edu.mx', '', '2305140010.jpg', 'M', '0000-00-00', ''),
('2305140011', 'Luis Emmanuel', 'Lazaro', 'Angel', 8.29, 7, '2305140011@integri-test.edu.mx', '', '2305140011.jpg', 'M', '0000-00-00', ''),
('2305140012', 'Naomi Denisse', 'Lemus', 'Tarango', 8.43, 7, '2305140012@integri-test.edu.mx', '', '2305140012.jpg', 'M', '0000-00-00', ''),
('2305140013', 'Christian', 'Martinez', 'Hernandez', 8.29, 7, '2305140013@integri-test.edu.mx', '', '2305140013.jpg', 'M', '0000-00-00', ''),
('2305140014', 'Mariana Lizbeth', 'Martinez', 'Valenzuela', 8.71, 7, '2305140014@integri-test.edu.mx', '', '2305140014.jpg', 'M', '0000-00-00', ''),
('2305140015', 'Josue Elihu', 'Moreno', 'Ramirez', 8.71, 7, '2305140015@integri-test.edu.mx', '', '2305140015.jpg', 'M', '0000-00-00', ''),
('2305140016', 'Jese Santiago', 'Perez', 'Salazar', 7.86, 7, '2305140016@integri-test.edu.mx', '', '2305140016.jpg', 'M', '0000-00-00', ''),
('2305140017', 'Mizahel', 'Roy', 'Apodaca', 8.00, 7, '2305140017@integri-test.edu.mx', '', '2305140017.jpg', 'M', '0000-00-00', ''),
('2305140018', 'Citlali Sarai', 'Sanchez', 'Gomez', 8.71, 7, '2305140018@integri-test.edu.mx', '', '2305140018.jpg', 'M', '0000-00-00', ''),
('2305140019', 'Cesar Ernesto', 'Solis', 'Lopez', 7.86, 7, '2305140019@integri-test.edu.mx', '', '2305140019.jpg', 'M', '0000-00-00', ''),
('2305140039', 'Luis Enrique', 'Soto', 'Quiñonez', 8.57, 7, '2305140039@integri-test.edu.mx', '', '2305140039.jpg', 'M', '0000-00-00', ''),
('2401040000', 'Rosalio', 'Valencia', 'Garcia', 7.63, 8, '2401040000@integri-test.edu.mx', '', '2401040000.jpg', 'M', '0000-00-00', ''),
('2401040001', 'Diego Antonio', 'Verdugo', 'Anduaga', 8.38, 8, '2401040001@integri-test.edu.mx', '', '2401040001.jpg', 'M', '0000-00-00', ''),
('2401040002', 'Jelvy Margarita', 'Reyes', 'Rosales', 8.13, 8, '2401040002@integri-test.edu.mx', '', '2401040002.jpg', 'M', '0000-00-00', ''),
('2401040003', 'Mauricio', 'Romero', 'Garcia', 8.00, 8, '2401040003@integri-test.edu.mx', '', '2401040003.jpg', 'M', '0000-00-00', ''),
('2401040004', 'Daniel Emmanuel', 'Sanchez', 'Flores', 8.00, 8, '2401040004@integri-test.edu.mx', '', '2401040004.jpg', 'M', '0000-00-00', ''),
('2401040005', 'Emily Ireida', 'Soriano', 'García', 8.75, 8, '2401040005@integri-test.edu.mx', '', '2401040005.jpg', 'M', '0000-00-00', ''),
('2401040006', 'Sebastian', 'Soto', 'Gonzalez', 8.75, 8, '2401040006@integri-test.edu.mx', '', '2401040006.jpg', 'M', '0000-00-00', ''),
('2401040007', 'Luis Eduardo', 'Valdez', 'Agundez', 8.38, 8, '2401040007@integri-test.edu.mx', '', '2401040007.jpg', 'M', '0000-00-00', ''),
('2401040008', 'Carlos Ramon', 'Villanueva', 'Mendez', 7.38, 8, '2401040008@integri-test.edu.mx', '', '2401040008.jpg', 'M', '0000-00-00', ''),
('2401040009', 'Josue Jair', 'Zazueta', 'Guzman', 8.50, 8, '2401040009@integri-test.edu.mx', '', '2401040009.jpg', 'M', '0000-00-00', ''),
('2401040010', 'Marcos', 'Aguirre', 'Gonzalez', 7.50, 8, '2401040010@integri-test.edu.mx', '', '2401040010.jpg', 'M', '0000-00-00', ''),
('2401040011', 'Erick', 'Aparicio', 'De La O', 7.63, 8, '2401040011@integri-test.edu.mx', '', '2401040011.jpg', 'M', '0000-00-00', ''),
('2401040012', 'Gaddiel', 'Barrios', 'Uriarte', 9.00, 8, '2401040012@integri-test.edu.mx', '', '2401040012.jpg', 'M', '0000-00-00', ''),
('2401040013', 'Genesis', 'Brito', 'Canales', 7.88, 8, '2401040013@integri-test.edu.mx', '', '2401040013.jpg', 'M', '0000-00-00', ''),
('2401040014', 'Juan Andres', 'Cuevas', 'Zapata', 7.00, 8, '2401040014@integri-test.edu.mx', '', '2401040014.jpg', 'M', '0000-00-00', ''),
('2401040015', 'Daniel Alejandro', 'Diaz', 'Popomeya', 7.75, 8, '2401040015@integri-test.edu.mx', '', '2401040015.jpg', 'M', '0000-00-00', ''),
('2401040016', 'Angel Antonio', 'Espina', 'Carrillo', 9.25, 8, '2401040016@integri-test.edu.mx', '', '2401040016.jpg', 'M', '0000-00-00', ''),
('2401040017', 'Carlos Daniel', 'Estrada', 'Ruiz', 8.75, 8, '2401040017@integri-test.edu.mx', '', '2401040017.jpg', 'M', '0000-00-00', ''),
('2401040018', 'Cesar Humberto', 'Garcia', 'Galindo', 7.75, 8, '2401040018@integri-test.edu.mx', '', '2401040018.jpg', 'M', '0000-00-00', ''),
('2401040019', 'Kira Llizara', 'Garfias', 'Gonzalez', 7.88, 8, '2401040019@integri-test.edu.mx', '', '2401040019.jpg', 'M', '0000-00-00', ''),
('2401040020', 'Brandon', 'Gonzalez', 'Gonzalez', 8.50, 8, '2401040020@integri-test.edu.mx', '', '2401040020.jpg', 'M', '0000-00-00', ''),
('2401040021', 'Laisa Naomi', 'Guzman', 'Rivera', 7.75, 8, '2401040021@integri-test.edu.mx', '', '2401040021.jpg', 'M', '0000-00-00', ''),
('2401040022', 'Jesus Arturo', 'Herrera', 'Luevano', 8.63, 8, '2401040022@integri-test.edu.mx', '', '2401040022.jpg', 'M', '0000-00-00', ''),
('2401040023', 'Erick De Jesus', 'Martinez', 'Morales', 8.75, 8, '2401040023@integri-test.edu.mx', '', '2401040023.jpg', 'M', '0000-00-00', ''),
('2401040024', 'Cesar Alejandro', 'Medina', 'Coronado', 9.13, 8, '2401040024@integri-test.edu.mx', '', '2401040024.jpg', 'M', '0000-00-00', ''),
('2401040025', 'Edwin Christopher', 'Molina', 'Toledo', 8.00, 8, '2401040025@integri-test.edu.mx', '', '2401040025.jpg', 'M', '0000-00-00', ''),
('2401040026', 'Giovanni Gabriel', 'Juarez', 'Macias', 8.38, 8, '2401040026@integri-test.edu.mx', '', '2401040026.jpg', 'M', '0000-00-00', ''),
('2401040027', 'Jabes', 'Llamas', 'Zamudio', 9.25, 8, '2401040027@integri-test.edu.mx', '', '2401040027.jpg', 'M', '0000-00-00', ''),
('2401040028', 'Sulema', 'Marroquin', 'Torres', 7.70, 10, '2401040028@integri-test.edu.mx', '', '2401040028.jpg', 'M', '0000-00-00', ''),
('2401040029', 'Erick De Jesus', 'Martinez', 'Morales', 8.63, 8, '2401040029@integri-test.edu.mx', '', '2401040029.jpg', 'M', '0000-00-00', ''),
('2401040030', 'Cesar Alejandro', 'Medina', 'Coronado', 8.25, 8, '2401040030@integri-test.edu.mx', '', '2401040030.jpg', 'M', '0000-00-00', ''),
('2401040031', 'Ismael', 'Reyes', 'Cordova', 9.38, 8, '2401040031@integri-test.edu.mx', '', '2401040031.jpg', 'M', '0000-00-00', ''),
('2401040032', 'Yadira Guadalupe', 'Salazar', 'Urtuzuastegui', 9.13, 8, '2401040032@integri-test.edu.mx', '', '2401040032.jpg', 'M', '0000-00-00', ''),
('2401040033', 'Evans', 'Sanchez', 'Portillo', 8.63, 8, '2401040033@integri-test.edu.mx', '', '2401040033.jpg', 'M', '0000-00-00', ''),
('2401040034', 'German Dario', 'Sanchez', 'Zagal', 9.00, 8, '2401040034@integri-test.edu.mx', '', '2401040034.jpg', 'M', '0000-00-00', ''),
('2401040035', 'Kimberly Itzel', 'Soto', 'Garcia', 9.38, 8, '2401040035@integri-test.edu.mx', '', '2401040035.jpg', 'M', '0000-00-00', ''),
('2401040036', 'Yerlan Axel', 'Suastegui', 'Leyva', 9.00, 8, '2401040036@integri-test.edu.mx', '', '2401040036.jpg', 'M', '0000-00-00', ''),
('2401040037', 'Neyzer Joel', 'Toledo', 'Herrera', 8.13, 8, '2401040037@integri-test.edu.mx', '', '2401040037.jpg', 'M', '0000-00-00', ''),
('2401040038', 'Angel Javier', 'Vazquez', 'Jimenez', 7.78, 9, '2401040038@integri-test.edu.mx', '', '2401040038.jpg', 'M', '0000-00-00', ''),
('2401040039', 'Aldahir Alejandro', 'Zavala', 'Palacios', 9.22, 9, '2401040039@integri-test.edu.mx', '', '2401040039.jpg', 'M', '0000-00-00', ''),
('2401040040', 'Antonio', 'Valdez', 'Guzman', 10.00, 1, '2401040040@integri-test.edu.mx', '', '2401040040.jpg', 'M', '0000-00-00', ''),
('2401040041', 'prueba', 'para', 'promedios', 10.00, 1, '2401040041@integri-test.edu.mx', '', '2401040041.jpg', 'M', '0000-00-00', ''),
('2401040042', 'Alumno', 'De Biologia', '', 0.00, 0, '2401040042@integri-test.edu.mx', '', '2401040042.jpg', 'M', '0000-00-00', ''),
('2401040043', 'alumno', 'de', 'programacion', 10.00, 1, '2401040043@integri-test.edu.mx', '', '2401040043.jpg', 'M', '0000-00-00', ''),
('2401040044', 'Isaac ', 'Cota', 'Hernandez', 0.00, 0, '2401040044@integri-test.edu.mx', '', '2401040044.jpg', 'M', '0000-00-00', '');

--
-- Disparadores `alumno`
--
DELIMITER $$
CREATE TRIGGER `after_insert_alumno` AFTER INSERT ON `alumno` FOR EACH ROW BEGIN
    INSERT INTO usuarios (password, tipo_usuario, identificador_usuario)
    VALUES (SHA2(NEW.matricula, 256), 'alumno', NEW.matricula);
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `asignar_adatos_alumno` BEFORE INSERT ON `alumno` FOR EACH ROW BEGIN 
  DECLARE matricula_generada VARCHAR(12);
  IF NEW.matricula IS NULL OR NEW.matricula = '' THEN
    CALL matricula(matricula_generada); 
    SET NEW.matricula = matricula_generada; 
  END IF;
  
  SET NEW.correo = CONCAT(NEW.matricula, '@integri-test.edu.mx');
  SET NEW.foto = CONCAT(NEW.matricula, '.jpg');
  SET NEW.genero = UPPER(NEW.genero);
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `alumno_examen`
--

CREATE TABLE `alumno_examen` (
  `numExam` int(11) NOT NULL,
  `matricula` varchar(10) NOT NULL,
  `calificacion` decimal(10,2) DEFAULT NULL,
  `fechaRealizacion` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `alumno_examen`
--

INSERT INTO `alumno_examen` (`numExam`, `matricula`, `calificacion`, `fechaRealizacion`) VALUES
(1, '2203290000', 0.00, '2024-08-05'),
(2, '2203290000', 10.00, '2024-08-02'),
(2, '2203290002', 10.00, '2024-08-02'),
(2, '2203290003', 10.00, '2024-08-02'),
(2, '2203290004', 10.00, '2024-08-02'),
(2, '2203290005', 10.00, '2024-08-02'),
(2, '2401040028', 0.00, '2024-08-09'),
(2, '2401040039', 10.00, '2024-08-02'),
(4, '2203290000', 9.00, '2024-02-04'),
(4, '2203290001', 6.00, '2024-02-04'),
(4, '2203290002', 8.00, '2024-02-04'),
(4, '2203290003', 10.00, '2024-02-04'),
(4, '2203290004', 8.00, '2024-02-04'),
(4, '2203290005', 10.00, '2024-02-04'),
(4, '2203290006', 8.00, '2024-02-04'),
(4, '2203290007', 9.00, '2024-02-04'),
(4, '2203290008', 9.00, '2024-02-04'),
(4, '2203290009', 10.00, '2024-02-04'),
(4, '2203290010', 9.00, '2024-02-04'),
(4, '2203290011', 8.00, '2024-02-04'),
(4, '2203290012', 10.00, '2024-02-04'),
(4, '2203290013', 8.00, '2024-02-04'),
(4, '2203290014', 7.00, '2024-02-04'),
(4, '2203290015', 6.00, '2024-02-04'),
(4, '2203290016', 9.00, '2024-02-04'),
(4, '2203290017', 8.00, '2024-02-04'),
(4, '2203290018', 7.00, '2024-02-04'),
(4, '2203290019', 7.00, '2024-02-04'),
(4, '2305140000', 6.00, '2024-02-05'),
(4, '2305140002', 8.00, '2024-02-05'),
(4, '2305140003', 9.00, '2024-02-05'),
(4, '2305140004', 9.00, '2024-02-05'),
(4, '2305140005', 10.00, '2024-02-05'),
(4, '2305140006', 7.00, '2024-02-05'),
(4, '2305140007', 9.00, '2024-02-05'),
(4, '2305140008', 10.00, '2024-02-05'),
(4, '2305140009', 10.00, '2024-02-05'),
(4, '2305140010', 7.00, '2024-02-05'),
(4, '2305140011', 9.00, '2024-02-05'),
(4, '2305140012', 8.00, '2024-02-05'),
(4, '2305140013', 7.00, '2024-02-05'),
(4, '2305140014', 9.00, '2024-02-05'),
(4, '2305140015', 9.00, '2024-02-05'),
(4, '2305140016', 6.00, '2024-02-05'),
(4, '2305140017', 8.00, '2024-02-05'),
(4, '2305140018', 10.00, '2024-02-05'),
(4, '2305140019', 7.00, '2024-02-05'),
(4, '2305140039', 8.00, '2024-02-05'),
(4, '2401040000', 7.00, '2024-02-06'),
(4, '2401040001', 9.00, '2024-02-06'),
(4, '2401040002', 10.00, '2024-02-06'),
(4, '2401040003', 6.00, '2024-02-06'),
(4, '2401040004', 8.00, '2024-02-06'),
(4, '2401040005', 10.00, '2024-02-06'),
(4, '2401040006', 10.00, '2024-02-06'),
(4, '2401040007', 7.00, '2024-02-06'),
(4, '2401040008', 6.00, '2024-02-06'),
(4, '2401040009', 8.00, '2024-02-06'),
(4, '2401040010', 10.00, '2024-02-06'),
(4, '2401040011', 7.00, '2024-02-06'),
(4, '2401040012', 9.00, '2024-02-06'),
(4, '2401040013', 5.00, '2024-02-06'),
(4, '2401040014', 4.00, '2024-02-06'),
(4, '2401040015', 7.00, '2024-02-06'),
(4, '2401040016', 10.00, '2024-02-06'),
(4, '2401040017', 9.00, '2024-02-06'),
(4, '2401040018', 8.00, '2024-02-06'),
(4, '2401040019', 7.00, '2024-02-06'),
(4, '2401040020', 8.00, '2024-02-07'),
(4, '2401040021', 6.00, '2024-02-07'),
(4, '2401040022', 10.00, '2024-02-07'),
(4, '2401040023', 9.00, '2024-02-07'),
(4, '2401040024', 10.00, '2024-02-07'),
(4, '2401040025', 6.00, '2024-02-07'),
(4, '2401040026', 7.00, '2024-02-07'),
(4, '2401040027', 10.00, '2024-02-07'),
(4, '2401040028', 10.00, '2024-02-07'),
(4, '2401040029', 9.00, '2024-02-07'),
(4, '2401040030', 10.00, '2024-02-07'),
(4, '2401040031', 8.00, '2024-02-07'),
(4, '2401040032', 9.00, '2024-02-07'),
(4, '2401040033', 9.00, '2024-02-07'),
(4, '2401040034', 10.00, '2024-02-07'),
(4, '2401040035', 10.00, '2024-02-07'),
(4, '2401040036', 9.00, '2024-02-07'),
(4, '2401040037', 7.00, '2024-02-07'),
(4, '2401040038', 6.00, '2024-02-07'),
(4, '2401040039', 9.00, '2024-02-07'),
(5, '2203290000', 10.00, '2024-08-02'),
(5, '2203290001', 9.00, '2024-07-03'),
(5, '2203290002', 9.00, '2024-07-03'),
(5, '2203290003', 8.00, '2024-07-03'),
(5, '2203290004', 7.00, '2024-07-03'),
(5, '2203290005', 7.00, '2024-07-03'),
(5, '2203290006', 8.00, '2024-07-03'),
(5, '2203290007', 7.00, '2024-07-03'),
(5, '2203290008', 7.00, '2024-07-03'),
(5, '2203290009', 8.00, '2024-07-03'),
(5, '2203290010', 8.00, '2024-07-03'),
(5, '2203290011', 9.00, '2024-07-03'),
(5, '2203290012', 8.00, '2024-07-03'),
(5, '2203290013', 8.00, '2024-07-03'),
(5, '2203290014', 8.00, '2024-07-03'),
(5, '2203290015', 9.00, '2024-07-03'),
(5, '2203290016', 9.00, '2024-07-03'),
(5, '2203290017', 8.00, '2024-07-03'),
(5, '2203290018', 8.00, '2024-07-03'),
(5, '2203290019', 9.00, '2024-07-03'),
(5, '2305140000', 9.00, '2024-10-03'),
(5, '2305140002', 9.00, '2024-10-03'),
(5, '2305140003', 9.00, '2024-10-03'),
(5, '2305140004', 7.00, '2024-10-03'),
(5, '2305140005', 8.00, '2024-10-03'),
(5, '2305140006', 8.00, '2024-10-03'),
(5, '2305140007', 8.00, '2024-10-03'),
(5, '2305140008', 9.00, '2024-10-03'),
(5, '2305140009', 7.00, '2024-10-03'),
(5, '2305140010', 8.00, '2024-10-03'),
(5, '2305140011', 9.00, '2024-10-03'),
(5, '2305140012', 8.00, '2024-10-03'),
(5, '2305140013', 9.00, '2024-10-03'),
(5, '2305140014', 9.00, '2024-10-03'),
(5, '2305140015', 7.00, '2024-10-03'),
(5, '2305140016', 9.00, '2024-10-03'),
(5, '2305140017', 7.00, '2024-10-03'),
(5, '2305140018', 10.00, '2024-10-03'),
(5, '2305140019', 7.00, '2024-10-03'),
(5, '2305140039', 9.00, '2024-10-03'),
(5, '2401040000', 8.00, '2024-11-03'),
(5, '2401040001', 7.00, '2024-11-03'),
(5, '2401040002', 9.00, '2024-11-03'),
(5, '2401040003', 10.00, '2024-11-03'),
(5, '2401040004', 8.00, '2024-11-03'),
(5, '2401040005', 7.00, '2024-11-03'),
(5, '2401040006', 9.00, '2024-11-03'),
(5, '2401040007', 9.00, '2024-11-03'),
(5, '2401040008', 9.00, '2024-11-03'),
(5, '2401040009', 9.00, '2024-11-03'),
(5, '2401040010', 8.00, '2024-11-03'),
(5, '2401040011', 8.00, '2024-11-03'),
(5, '2401040012', 8.00, '2024-11-03'),
(5, '2401040013', 8.00, '2024-11-03'),
(5, '2401040014', 8.00, '2024-11-03'),
(5, '2401040015', 9.00, '2024-11-03'),
(5, '2401040016', 9.00, '2024-11-03'),
(5, '2401040017', 9.00, '2024-11-03'),
(5, '2401040018', 9.00, '2024-11-03'),
(5, '2401040019', 8.00, '2024-11-03'),
(5, '2401040020', 8.00, '2024-12-03'),
(5, '2401040021', 7.00, '2024-12-03'),
(5, '2401040022', 9.00, '2024-12-03'),
(5, '2401040023', 7.00, '2024-12-03'),
(5, '2401040024', 8.00, '2024-12-03'),
(5, '2401040025', 10.00, '2024-12-03'),
(5, '2401040026', 10.00, '2024-12-03'),
(5, '2401040027', 9.00, '2024-12-03'),
(5, '2401040028', 10.00, '2024-12-03'),
(5, '2401040029', 8.00, '2024-12-03'),
(5, '2401040030', 9.00, '2024-12-03'),
(5, '2401040031', 10.00, '2024-12-03'),
(5, '2401040032', 9.00, '2024-12-03'),
(5, '2401040033', 7.00, '2024-12-03'),
(5, '2401040034', 9.00, '2024-12-03'),
(5, '2401040035', 10.00, '2024-12-03'),
(5, '2401040036', 10.00, '2024-12-03'),
(5, '2401040037', 9.00, '2024-12-03'),
(5, '2401040038', 9.00, '2024-12-03'),
(5, '2401040039', 8.00, '2024-12-03'),
(7, '1124070085', 3.00, '2024-11-25'),
(7, '2203290000', 0.00, '2024-11-26'),
(9, '2203290000', 6.00, '2024-08-05'),
(9, '2401040038', 7.00, '2024-08-07'),
(10, '2203290000', 8.00, '2024-03-11'),
(10, '2203290001', 6.00, '2024-03-11'),
(10, '2203290002', 7.00, '2024-03-11'),
(10, '2203290003', 9.00, '2024-03-11'),
(10, '2203290004', 10.00, '2024-03-11'),
(10, '2203290005', 7.00, '2024-03-11'),
(10, '2203290006', 7.00, '2024-03-11'),
(10, '2203290007', 10.00, '2024-03-11'),
(10, '2203290008', 4.00, '2024-03-11'),
(10, '2203290009', 10.00, '2024-03-11'),
(10, '2203290010', 9.00, '2024-03-11'),
(10, '2203290011', 9.00, '2024-03-11'),
(10, '2203290012', 9.00, '2024-03-11'),
(10, '2203290013', 8.00, '2024-03-11'),
(10, '2203290014', 7.00, '2024-03-11'),
(10, '2203290015', 9.00, '2024-03-11'),
(10, '2203290016', 9.00, '2024-03-11'),
(10, '2203290017', 10.00, '2024-03-11'),
(10, '2203290018', 9.00, '2024-03-11'),
(10, '2203290019', 7.00, '2024-03-12'),
(10, '2305140000', 6.00, '2024-03-07'),
(10, '2305140002', 8.00, '2024-03-07'),
(10, '2305140003', 8.00, '2024-03-07'),
(10, '2305140004', 8.00, '2024-03-07'),
(10, '2305140005', 10.00, '2024-03-07'),
(10, '2305140006', 7.00, '2024-03-07'),
(10, '2305140007', 9.00, '2024-03-07'),
(10, '2305140008', 10.00, '2024-03-07'),
(10, '2305140009', 6.00, '2024-03-07'),
(10, '2305140010', 7.00, '2024-03-07'),
(10, '2305140011', 9.00, '2024-03-07'),
(10, '2305140012', 8.00, '2024-03-07'),
(10, '2305140013', 9.00, '2024-03-07'),
(10, '2305140014', 9.00, '2024-03-07'),
(10, '2305140015', 9.00, '2024-03-07'),
(10, '2305140016', 10.00, '2024-03-07'),
(10, '2305140017', 8.00, '2024-03-07'),
(10, '2305140018', 9.00, '2024-03-07'),
(10, '2305140019', 10.00, '2024-03-07'),
(10, '2305140039', 10.00, '2024-03-07'),
(10, '2401040000', 7.00, '2024-03-12'),
(10, '2401040001', 9.00, '2024-03-12'),
(10, '2401040002', 8.00, '2024-03-12'),
(10, '2401040003', 6.00, '2024-03-12'),
(10, '2401040004', 8.00, '2024-03-12'),
(10, '2401040005', 10.00, '2024-03-12'),
(10, '2401040006', 10.00, '2024-03-12'),
(10, '2401040007', 7.00, '2024-03-12'),
(10, '2401040008', 6.00, '2024-03-12'),
(10, '2401040009', 8.00, '2024-03-12'),
(10, '2401040010', 6.00, '2024-03-12'),
(10, '2401040011', 7.00, '2024-03-12'),
(10, '2401040012', 9.00, '2024-03-12'),
(10, '2401040013', 7.00, '2024-03-12'),
(10, '2401040014', 8.00, '2024-03-12'),
(10, '2401040015', 7.00, '2024-03-12'),
(10, '2401040016', 10.00, '2024-03-12'),
(10, '2401040017', 9.00, '2024-03-12'),
(10, '2401040018', 8.00, '2024-03-12'),
(10, '2401040019', 7.00, '2024-03-13'),
(10, '2401040020', 8.00, '2024-03-13'),
(10, '2401040021', 6.00, '2024-03-13'),
(10, '2401040022', 10.00, '2024-03-13'),
(10, '2401040023', 9.00, '2024-03-13'),
(10, '2401040024', 10.00, '2024-03-13'),
(10, '2401040025', 6.00, '2024-03-13'),
(10, '2401040026', 7.00, '2024-03-13'),
(10, '2401040027', 9.00, '2024-03-13'),
(10, '2401040028', 8.00, '2024-03-13'),
(10, '2401040029', 9.00, '2024-03-13'),
(10, '2401040030', 8.00, '2024-03-13'),
(10, '2401040031', 10.00, '2024-03-13'),
(10, '2401040032', 9.00, '2024-03-13'),
(10, '2401040033', 9.00, '2024-03-13'),
(10, '2401040034', 10.00, '2024-03-13'),
(10, '2401040035', 10.00, '2024-03-13'),
(10, '2401040036', 9.00, '2024-03-13'),
(10, '2401040037', 7.00, '2024-03-13'),
(10, '2401040038', 6.00, '2024-03-13'),
(10, '2401040039', 9.00, '2024-03-07'),
(11, '1124070085', 3.23, '2024-11-25'),
(11, '2203290000', 9.00, '2024-01-31'),
(11, '2203290001', 6.00, '2024-01-31'),
(11, '2203290002', 8.00, '2024-01-31'),
(11, '2203290003', 10.00, '2024-01-31'),
(11, '2203290004', 8.00, '2024-01-31'),
(11, '2203290005', 6.00, '2024-01-31'),
(11, '2203290006', 8.00, '2024-01-31'),
(11, '2203290007', 9.00, '2024-01-31'),
(11, '2203290008', 4.00, '2024-01-31'),
(11, '2203290009', 10.00, '2024-01-31'),
(11, '2203290010', 9.00, '2024-01-31'),
(11, '2203290011', 8.00, '2024-01-31'),
(11, '2203290012', 8.00, '2024-01-31'),
(11, '2203290013', 6.00, '2024-01-31'),
(11, '2203290014', 8.00, '2024-01-31'),
(11, '2203290015', 10.00, '2024-01-31'),
(11, '2203290016', 7.00, '2024-01-31'),
(11, '2203290017', 10.00, '2024-01-31'),
(11, '2203290018', 8.00, '2024-01-31'),
(11, '2203290019', 8.00, '2024-01-31'),
(11, '2401040000', 6.00, '2024-02-05'),
(11, '2401040001', 7.00, '2024-02-05'),
(11, '2401040002', 9.00, '2024-02-05'),
(11, '2401040003', 10.00, '2024-02-05'),
(11, '2401040004', 7.00, '2024-02-05'),
(11, '2401040005', 7.00, '2024-02-05'),
(11, '2401040006', 10.00, '2024-02-05'),
(11, '2401040007', 7.00, '2024-02-05'),
(11, '2401040008', 6.00, '2024-02-05'),
(11, '2401040009', 8.00, '2024-02-05'),
(11, '2401040010', 6.00, '2024-02-05'),
(11, '2401040011', 7.00, '2024-02-05'),
(11, '2401040012', 9.00, '2024-02-05'),
(11, '2401040013', 7.00, '2024-02-05'),
(11, '2401040014', 8.00, '2024-02-05'),
(11, '2401040015', 7.00, '2024-02-05'),
(11, '2401040016', 10.00, '2024-02-05'),
(11, '2401040017', 9.00, '2024-02-05'),
(11, '2401040018', 8.00, '2024-02-05'),
(11, '2401040019', 7.00, '2024-02-06'),
(11, '2401040020', 8.00, '2024-02-06'),
(11, '2401040021', 9.00, '2024-02-06'),
(11, '2401040022', 10.00, '2024-02-06'),
(11, '2401040023', 9.00, '2024-02-06'),
(11, '2401040024', 10.00, '2024-02-06'),
(11, '2401040025', 9.00, '2024-02-06'),
(11, '2401040026', 9.00, '2024-02-06'),
(11, '2401040027', 9.00, '2024-02-06'),
(11, '2401040028', 8.00, '2024-02-06'),
(11, '2401040029', 9.00, '2024-02-06'),
(11, '2401040030', 8.00, '2024-02-06'),
(11, '2401040031', 10.00, '2024-02-06'),
(11, '2401040032', 10.00, '2024-02-06'),
(11, '2401040033', 10.00, '2024-02-06'),
(11, '2401040034', 10.00, '2024-02-06'),
(11, '2401040035', 8.00, '2024-02-06'),
(11, '2401040036', 10.00, '2024-02-06'),
(11, '2401040037', 9.00, '2024-02-06'),
(11, '2401040038', 10.00, '2024-02-06'),
(11, '2401040039', 9.00, '2024-03-11'),
(13, '2203290000', 9.00, '2024-03-13'),
(13, '2203290001', 6.00, '2024-03-13'),
(13, '2203290002', 8.00, '2024-03-13'),
(13, '2203290003', 10.00, '2024-03-13'),
(13, '2203290004', 8.00, '2024-03-13'),
(13, '2203290005', 10.00, '2024-03-13'),
(13, '2203290006', 8.00, '2024-03-13'),
(13, '2203290007', 9.00, '2024-03-13'),
(13, '2203290008', 6.00, '2024-03-13'),
(13, '2203290009', 10.00, '2024-03-13'),
(13, '2203290010', 9.00, '2024-03-12'),
(13, '2203290011', 8.00, '2024-03-12'),
(13, '2203290012', 10.00, '2024-03-12'),
(13, '2203290013', 8.00, '2024-03-12'),
(13, '2203290014', 7.00, '2024-03-12'),
(13, '2203290015', 6.00, '2024-03-12'),
(13, '2203290016', 9.00, '2024-03-12'),
(13, '2203290017', 8.00, '2024-03-12'),
(13, '2203290018', 7.00, '2024-03-12'),
(13, '2203290019', 7.00, '2024-03-12'),
(13, '2305140000', 6.00, '2024-03-12'),
(13, '2305140002', 8.00, '2024-03-12'),
(13, '2305140003', 9.00, '2024-03-12'),
(13, '2305140004', 8.00, '2024-03-12'),
(13, '2305140005', 10.00, '2024-03-12'),
(13, '2305140006', 7.00, '2024-03-12'),
(13, '2305140007', 9.00, '2024-03-12'),
(13, '2305140008', 10.00, '2024-03-12'),
(13, '2305140009', 6.00, '2024-03-12'),
(13, '2305140010', 7.00, '2024-03-11'),
(13, '2305140011', 9.00, '2024-03-11'),
(13, '2305140012', 8.00, '2024-03-11'),
(13, '2305140013', 7.00, '2024-03-11'),
(13, '2305140014', 10.00, '2024-03-11'),
(13, '2305140015', 9.00, '2024-03-11'),
(13, '2305140016', 6.00, '2024-03-11'),
(13, '2305140017', 8.00, '2024-03-11'),
(13, '2305140018', 10.00, '2024-03-11'),
(13, '2305140019', 7.00, '2024-03-11'),
(13, '2305140039', 8.00, '2024-03-11'),
(13, '2401040000', 7.00, '2024-03-11'),
(13, '2401040001', 9.00, '2024-03-11'),
(13, '2401040002', 8.00, '2024-03-11'),
(13, '2401040003', 6.00, '2024-03-11'),
(13, '2401040004', 8.00, '2024-03-11'),
(13, '2401040005', 10.00, '2024-03-11'),
(13, '2401040006', 7.00, '2024-03-11'),
(13, '2401040007', 10.00, '2024-03-11'),
(13, '2401040008', 8.00, '2024-03-10'),
(13, '2401040009', 8.00, '2024-03-10'),
(13, '2401040010', 6.00, '2024-03-10'),
(13, '2401040011', 7.00, '2024-03-10'),
(13, '2401040012', 9.00, '2024-03-10'),
(13, '2401040013', 10.00, '2024-03-10'),
(13, '2401040014', 7.00, '2024-03-10'),
(13, '2401040015', 7.00, '2024-03-10'),
(13, '2401040016', 10.00, '2024-03-10'),
(13, '2401040017', 9.00, '2024-03-10'),
(13, '2401040018', 8.00, '2024-03-10'),
(13, '2401040019', 7.00, '2024-03-10'),
(13, '2401040020', 8.00, '2024-03-10'),
(13, '2401040021', 6.00, '2024-03-10'),
(13, '2401040022', 6.00, '2024-03-10'),
(13, '2401040023', 9.00, '2024-03-10'),
(13, '2401040024', 10.00, '2024-03-10'),
(13, '2401040025', 6.00, '2024-03-10'),
(13, '2401040026', 7.00, '2024-03-10'),
(13, '2401040027', 8.00, '2024-03-10'),
(13, '2401040028', 10.00, '2024-03-10'),
(13, '2401040029', 6.00, '2024-03-10'),
(13, '2401040030', 7.00, '2024-03-10'),
(13, '2401040031', 8.00, '2024-03-10'),
(13, '2401040032', 9.00, '2024-03-10'),
(13, '2401040033', 9.00, '2024-03-10'),
(13, '2401040034', 10.00, '2024-03-10'),
(13, '2401040035', 10.00, '2024-03-10'),
(13, '2401040036', 9.00, '2024-03-10'),
(13, '2401040037', 7.00, '2024-03-10'),
(13, '2401040038', 6.00, '2024-03-10'),
(13, '2401040039', 9.00, '2024-03-10'),
(14, '2401040028', 7.00, '2024-08-09'),
(16, '2203290000', 9.00, '2024-07-02'),
(16, '2203290001', 7.00, '2024-07-02'),
(16, '2203290002', 9.00, '2024-07-02'),
(16, '2203290003', 9.00, '2024-07-02'),
(16, '2203290004', 8.00, '2024-07-02'),
(16, '2203290005', 7.00, '2024-07-02'),
(16, '2203290006', 6.00, '2024-07-02'),
(16, '2203290007', 7.00, '2024-07-02'),
(16, '2203290008', 8.00, '2024-07-02'),
(16, '2203290009', 10.00, '2024-07-02'),
(16, '2203290010', 10.00, '2024-07-02'),
(16, '2203290011', 10.00, '2024-07-02'),
(16, '2203290012', 8.00, '2024-07-02'),
(16, '2203290013', 9.00, '2024-07-02'),
(16, '2203290014', 9.00, '2024-07-02'),
(16, '2203290015', 10.00, '2024-07-02'),
(16, '2203290016', 9.00, '2024-07-02'),
(16, '2203290017', 9.00, '2024-07-02'),
(16, '2203290018', 8.00, '2024-07-02'),
(16, '2203290019', 10.00, '2024-07-02'),
(16, '2305140000', 8.00, '2024-06-02'),
(16, '2305140002', 9.00, '2024-06-02'),
(16, '2305140003', 10.00, '2024-06-02'),
(16, '2305140004', 10.00, '2024-06-02'),
(16, '2305140005', 8.00, '2024-06-02'),
(16, '2305140006', 9.00, '2024-06-02'),
(16, '2305140007', 8.00, '2024-06-02'),
(16, '2305140008', 9.00, '2024-06-02'),
(16, '2305140009', 6.00, '2024-06-02'),
(16, '2305140010', 10.00, '2024-06-02'),
(16, '2305140011', 9.00, '2024-06-02'),
(16, '2305140012', 8.00, '2024-06-02'),
(16, '2305140013', 10.00, '2024-06-02'),
(16, '2305140014', 8.00, '2024-06-02'),
(16, '2305140015', 7.00, '2024-06-02'),
(16, '2305140016', 6.00, '2024-06-02'),
(16, '2305140017', 9.00, '2024-06-02'),
(16, '2305140018', 8.00, '2024-06-02'),
(16, '2305140019', 7.00, '2024-06-02'),
(16, '2305140039', 9.00, '2024-06-02'),
(16, '2401040000', 10.00, '2024-05-02'),
(16, '2401040001', 10.00, '2024-05-02'),
(16, '2401040002', 8.00, '2024-05-02'),
(16, '2401040003', 9.00, '2024-05-02'),
(16, '2401040004', 8.00, '2024-05-02'),
(16, '2401040005', 10.00, '2024-05-02'),
(16, '2401040006', 6.00, '2024-05-02'),
(16, '2401040007', 10.00, '2024-05-02'),
(16, '2401040008', 8.00, '2024-05-02'),
(16, '2401040009', 9.00, '2024-05-02'),
(16, '2401040010', 9.00, '2024-05-02'),
(16, '2401040011', 10.00, '2024-05-02'),
(16, '2401040012', 10.00, '2024-05-02'),
(16, '2401040013', 9.00, '2024-05-02'),
(16, '2401040014', 7.00, '2024-05-02'),
(16, '2401040015', 6.00, '2024-05-02'),
(16, '2401040016', 9.00, '2024-05-02'),
(16, '2401040017', 9.00, '2024-05-02'),
(16, '2401040018', 6.00, '2024-05-02'),
(16, '2401040019', 8.00, '2024-05-02'),
(16, '2401040020', 10.00, '2024-04-02'),
(16, '2401040021', 8.00, '2024-04-02'),
(16, '2401040022', 6.00, '2024-04-02'),
(16, '2401040023', 8.00, '2024-04-02'),
(16, '2401040024', 9.00, '2024-04-02'),
(16, '2401040025', 9.00, '2024-04-02'),
(16, '2401040026', 10.00, '2024-04-02'),
(16, '2401040027', 10.00, '2024-04-02'),
(16, '2401040028', 9.00, '2024-04-02'),
(16, '2401040029', 10.00, '2024-04-02'),
(16, '2401040030', 8.00, '2024-04-02'),
(16, '2401040031', 10.00, '2024-04-02'),
(16, '2401040032', 10.00, '2024-04-02'),
(16, '2401040033', 9.00, '2024-04-02'),
(16, '2401040034', 8.00, '2024-04-02'),
(16, '2401040035', 10.00, '2024-04-02'),
(16, '2401040036', 8.00, '2024-04-02'),
(16, '2401040037', 7.00, '2024-04-02'),
(16, '2401040038', 6.00, '2024-04-02'),
(16, '2401040039', 9.00, '2024-04-02'),
(17, '2203290000', 9.00, '2024-03-14'),
(17, '2203290001', 10.00, '2024-03-14'),
(17, '2203290002', 9.00, '2024-03-14'),
(17, '2203290003', 8.00, '2024-03-14'),
(17, '2203290004', 10.00, '2024-03-14'),
(17, '2203290005', 10.00, '2024-03-14'),
(17, '2203290006', 9.00, '2024-03-14'),
(17, '2203290007', 10.00, '2024-03-14'),
(17, '2203290008', 8.00, '2024-03-14'),
(17, '2203290009', 9.00, '2024-03-14'),
(17, '2203290010', 9.00, '2024-03-14'),
(17, '2203290011', 10.00, '2024-03-14'),
(17, '2203290012', 9.00, '2024-03-14'),
(17, '2203290013', 8.00, '2024-03-14'),
(17, '2203290014', 10.00, '2024-03-14'),
(17, '2203290015', 8.00, '2024-03-14'),
(17, '2203290016', 7.00, '2024-03-14'),
(17, '2203290017', 6.00, '2024-03-14'),
(17, '2203290018', 10.00, '2024-03-14'),
(17, '2203290019', 9.00, '2024-03-14'),
(17, '2305140000', 10.00, '2024-03-14'),
(17, '2305140002', 10.00, '2024-03-14'),
(17, '2305140003', 9.00, '2024-03-14'),
(17, '2305140004', 6.00, '2024-03-14'),
(17, '2305140005', 8.00, '2024-03-14'),
(17, '2305140006', 10.00, '2024-03-14'),
(17, '2305140007', 9.00, '2024-03-14'),
(17, '2305140008', 9.00, '2024-03-14'),
(17, '2305140009', 8.00, '2024-03-14'),
(17, '2305140010', 9.00, '2024-03-14'),
(17, '2305140011', 6.00, '2024-03-14'),
(17, '2305140012', 10.00, '2024-03-14'),
(17, '2305140013', 9.00, '2024-03-15'),
(17, '2305140014', 8.00, '2024-03-15'),
(17, '2305140015', 10.00, '2024-03-15'),
(17, '2305140016', 8.00, '2024-03-15'),
(17, '2305140017', 7.00, '2024-03-15'),
(17, '2305140018', 6.00, '2024-03-15'),
(17, '2305140019', 9.00, '2024-03-15'),
(17, '2305140039', 8.00, '2024-03-15'),
(17, '2401040000', 7.00, '2024-03-15'),
(17, '2401040001', 7.00, '2024-03-15'),
(17, '2401040002', 6.00, '2024-03-15'),
(17, '2401040003', 8.00, '2024-03-15'),
(17, '2401040004', 9.00, '2024-03-15'),
(17, '2401040005', 8.00, '2024-03-15'),
(17, '2401040006', 10.00, '2024-03-15'),
(17, '2401040007', 8.00, '2024-03-15'),
(17, '2401040008', 9.00, '2024-03-15'),
(17, '2401040009', 10.00, '2024-03-15'),
(17, '2401040010', 6.00, '2024-03-15'),
(17, '2401040011', 7.00, '2024-03-16'),
(17, '2401040012', 9.00, '2024-03-16'),
(17, '2401040013', 8.00, '2024-03-16'),
(17, '2401040014', 7.00, '2024-03-16'),
(17, '2401040015', 10.00, '2024-03-16'),
(17, '2401040016', 9.00, '2024-03-16'),
(17, '2401040017', 6.00, '2024-03-16'),
(17, '2401040018', 8.00, '2024-03-16'),
(17, '2401040019', 10.00, '2024-03-16'),
(17, '2401040020', 10.00, '2024-03-16'),
(17, '2401040021', 10.00, '2024-03-16'),
(17, '2401040022', 9.00, '2024-03-16'),
(17, '2401040023', 9.00, '2024-03-16'),
(17, '2401040024', 8.00, '2024-03-16'),
(17, '2401040025', 9.00, '2024-03-16'),
(17, '2401040026', 8.00, '2024-03-16'),
(17, '2401040027', 10.00, '2024-03-16'),
(17, '2401040028', 8.00, '2024-03-16'),
(17, '2401040029', 9.00, '2024-03-16'),
(17, '2401040030', 9.00, '2024-03-16'),
(17, '2401040031', 9.00, '2024-03-13'),
(17, '2401040032', 9.00, '2024-03-13'),
(17, '2401040033', 7.00, '2024-03-13'),
(17, '2401040034', 7.00, '2024-03-13'),
(17, '2401040035', 8.00, '2024-03-13'),
(17, '2401040036', 8.00, '2024-03-13'),
(17, '2401040037', 9.00, '2024-03-13'),
(17, '2401040038', 10.00, '2024-03-13'),
(17, '2401040039', 10.00, '2024-03-13'),
(18, '2203290000', 3.00, '2024-03-10'),
(18, '2203290001', 7.00, '2024-03-10'),
(18, '2203290002', 7.00, '2024-03-10'),
(18, '2203290003', 6.00, '2024-03-10'),
(18, '2203290004', 8.00, '2024-03-10'),
(18, '2203290005', 9.00, '2024-03-10'),
(18, '2203290006', 8.00, '2024-03-10'),
(18, '2203290007', 10.00, '2024-03-10'),
(18, '2203290008', 9.00, '2024-03-10'),
(18, '2203290009', 8.00, '2024-03-10'),
(18, '2203290010', 7.00, '2024-03-10'),
(18, '2203290011', 9.00, '2024-03-10'),
(18, '2203290012', 10.00, '2024-03-10'),
(18, '2203290013', 8.00, '2024-03-10'),
(18, '2203290014', 7.00, '2024-03-10'),
(18, '2203290015', 9.00, '2024-03-10'),
(18, '2203290016', 9.00, '2024-03-10'),
(18, '2203290017', 9.00, '2024-03-10'),
(18, '2203290018', 9.00, '2024-03-10'),
(18, '2203290019', 8.00, '2024-03-11'),
(18, '2305140000', 8.00, '2024-03-11'),
(18, '2305140002', 8.00, '2024-03-11'),
(18, '2305140003', 8.00, '2024-03-11'),
(18, '2305140004', 8.00, '2024-03-11'),
(18, '2305140005', 9.00, '2024-03-11'),
(18, '2305140006', 9.00, '2024-03-11'),
(18, '2305140007', 9.00, '2024-03-11'),
(18, '2305140008', 9.00, '2024-03-11'),
(18, '2305140009', 8.00, '2024-03-11'),
(18, '2305140010', 8.00, '2024-03-11'),
(18, '2305140011', 7.00, '2024-03-11'),
(18, '2305140012', 9.00, '2024-03-11'),
(18, '2305140013', 7.00, '2024-03-11'),
(18, '2305140014', 8.00, '2024-03-11'),
(18, '2305140015', 10.00, '2024-03-11'),
(18, '2305140016', 10.00, '2024-03-11'),
(18, '2305140017', 9.00, '2024-03-11'),
(18, '2305140018', 8.00, '2024-03-11'),
(18, '2305140019', 8.00, '2024-03-11'),
(18, '2305140039', 8.00, '2024-03-12'),
(18, '2401040000', 9.00, '2024-03-12'),
(18, '2401040001', 9.00, '2024-03-12'),
(18, '2401040002', 7.00, '2024-03-12'),
(18, '2401040003', 9.00, '2024-03-12'),
(18, '2401040004', 8.00, '2024-03-12'),
(18, '2401040005', 8.00, '2024-03-12'),
(18, '2401040006', 8.00, '2024-03-12'),
(18, '2401040007', 9.00, '2024-03-12'),
(18, '2401040008', 7.00, '2024-03-12'),
(18, '2401040009', 8.00, '2024-03-12'),
(18, '2401040010', 9.00, '2024-03-12'),
(18, '2401040011', 8.00, '2024-03-12'),
(18, '2401040012', 9.00, '2024-03-12'),
(18, '2401040013', 9.00, '2024-03-12'),
(18, '2401040014', 7.00, '2024-03-12'),
(18, '2401040015', 9.00, '2024-03-12'),
(18, '2401040016', 7.00, '2024-03-12'),
(18, '2401040017', 10.00, '2024-03-12'),
(18, '2401040018', 7.00, '2024-03-13'),
(18, '2401040019', 9.00, '2024-03-13'),
(18, '2401040020', 8.00, '2024-03-13'),
(18, '2401040021', 10.00, '2024-03-13'),
(18, '2401040022', 9.00, '2024-03-13'),
(18, '2401040023', 10.00, '2024-03-13'),
(18, '2401040024', 8.00, '2024-03-13'),
(18, '2401040025', 9.00, '2024-03-13'),
(18, '2401040026', 9.00, '2024-03-13'),
(18, '2401040027', 9.00, '2024-03-13'),
(18, '2401040028', 7.00, '2024-03-13'),
(18, '2401040029', 9.00, '2024-03-13'),
(18, '2401040030', 7.00, '2024-03-13'),
(18, '2401040031', 10.00, '2024-03-13'),
(18, '2401040032', 8.00, '2024-03-13'),
(18, '2401040033', 9.00, '2024-03-13'),
(18, '2401040034', 8.00, '2024-03-13'),
(18, '2401040035', 9.00, '2024-03-13'),
(18, '2401040036', 9.00, '2024-03-14'),
(18, '2401040037', 10.00, '2024-03-14'),
(18, '2401040038', 10.00, '2024-03-14'),
(18, '2401040039', 10.00, '2024-03-14'),
(19, '2203290000', 10.00, '2024-08-04'),
(20, '2401040041', 10.00, '2024-08-06'),
(23, '2401040043', 10.00, '2024-08-07'),
(31, '2203290000', 10.00, '2024-11-25'),
(39, '2401040040', 10.00, '2024-11-27');

--
-- Disparadores `alumno_examen`
--
DELIMITER $$
CREATE TRIGGER `calcular_cantidadexamenes` AFTER INSERT ON `alumno_examen` FOR EACH ROW BEGIN
    UPDATE alumno
    SET cantidadExams = (
        SELECT COUNT(*)
        FROM alumno_examen
        WHERE matricula = NEW.matricula
    )
    WHERE matricula = NEW.matricula; 
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `calcular_promedio_grupal` AFTER INSERT ON `alumno_examen` FOR EACH ROW BEGIN
    DECLARE promedioGrupo DECIMAL(10, 2);

    SELECT AVG(a.promedio) INTO promedioGrupo
    FROM alumno a
    JOIN registro r ON a.matricula = r.matricula
    WHERE r.grupo = (SELECT grupo FROM registro WHERE matricula = NEW.matricula);

    UPDATE grupo
    SET promedio = promedioGrupo
    WHERE grupo = (SELECT grupo FROM registro WHERE matricula = NEW.matricula);
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `establecer_fechaRealizacion` BEFORE INSERT ON `alumno_examen` FOR EACH ROW BEGIN
    IF NEW.fechaRealizacion IS NULL THEN
        SET NEW.fechaRealizacion = CURDATE();
    END IF;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `promedio_alumno` AFTER INSERT ON `alumno_examen` FOR EACH ROW BEGIN
    UPDATE alumno
    SET promedio = (
        SELECT AVG(calificacion)
        FROM alumno_examen
        WHERE matricula = NEW.matricula
    )
    WHERE matricula = NEW.matricula;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `asignacion`
--

CREATE TABLE `asignacion` (
  `cursonum` int(11) NOT NULL,
  `grupo` int(11) NOT NULL,
  `promedio` decimal(10,2) NOT NULL DEFAULT 0.00,
  `numEmpleado` varchar(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `asignacion`
--

INSERT INTO `asignacion` (`cursonum`, `grupo`, `promedio`, `numEmpleado`) VALUES
(1, 1, 8.00, '2'),
(1, 2, 8.00, '2'),
(1, 3, 8.00, '2'),
(1, 4, 9.00, '2'),
(1, 7, 8.29, '242711015'),
(2, 1, 9.00, '3'),
(2, 2, 8.00, '5'),
(2, 3, 8.00, '1'),
(2, 4, 9.00, '5'),
(3, 1, 8.00, '6'),
(3, 3, 8.00, '4'),
(3, 4, 8.00, '9'),
(4, 2, 8.00, '5'),
(5, 1, 0.00, '4'),
(6, 1, 8.00, '7'),
(6, 4, 9.00, '1'),
(7, 1, 8.00, '9'),
(8, 2, 9.00, '6'),
(16, 8, 0.00, '242711016');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `curso`
--

CREATE TABLE `curso` (
  `cursonum` int(11) NOT NULL,
  `nombre` varchar(40) NOT NULL,
  `duracion` int(11) NOT NULL,
  `descripcion` varchar(120) NOT NULL,
  `numEstado` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `curso`
--

INSERT INTO `curso` (`cursonum`, `nombre`, `duracion`, `descripcion`, `numEstado`) VALUES
(1, 'Base de datos', 120, 'Aprende a diseñar, implementar y gestionar una bases de datos relacional y no relacional. Todo lo basico sobre una base ', 1),
(2, 'Programación', 120, 'Aprende la estructura y logica basica de programación con implementación en el lenguaje Java.', 1),
(3, 'Calculo diferencial', 100, 'Estudia derivadas y sus aplicaciones en problemas de optimización y tasas de cambio. Fortalece la comprensión de concept', 1),
(4, 'Matemáticas', 100, 'Comprende y resuelve con facilidad problemas practicos. Desde algebra hasta geometria basica.', 1),
(5, 'Español', 80, 'Mejora tus habilidades en el idioma Español. Pon en practica el lexico, la gramatica, etc.', 1),
(6, 'Inglés', 80, 'Mejora tus habilidades en el idioma inglés, domina nuevos temas para ponerlos en practica.', 1),
(7, 'Ingles Avanzado', 80, 'Mejora el dominio del inglés con estructuras gramaticales avanzadas y vocabulario especializado. Desarrolla habilidades ', 1),
(8, 'Historia', 80, 'Aprenderas sobre los sucesos ocurridos a lo largo de la historia', 1),
(10, 'MENDIX', 20, 'Curso basico de programacion lowCode', 1),
(11, '14', 50, 'nose', 1),
(12, 'CURSO BIOLOGIA', 20, 'Aqui podras aprender biologia', 1),
(13, 'Desarrollo de software', 100, 'Aprenderas sobre el desarrollo de software', 1),
(14, 'ingles C1', 30, 'Aprenderas ingles muy avanzado', 1),
(15, 'Juguetes', 60, 'Elaboracion de juguetes a mano', 1),
(16, 'curso de prueba final', 120, 'probando curso', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `docente`
--

CREATE TABLE `docente` (
  `numEmpleado` varchar(11) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `apellidoP` varchar(30) NOT NULL,
  `apellidoM` varchar(30) DEFAULT NULL,
  `correo` varchar(100) NOT NULL,
  `telefono` varchar(25) NOT NULL,
  `foto` varchar(30) DEFAULT NULL,
  `genero` enum('M','F') NOT NULL,
  `fechaNacimiento` date NOT NULL,
  `curp` varchar(18) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `docente`
--

INSERT INTO `docente` (`numEmpleado`, `nombre`, `apellidoP`, `apellidoM`, `correo`, `telefono`, `foto`, `genero`, `fechaNacimiento`, `curp`) VALUES
('1', 'Emer Ignacio', 'Bernal', 'Jimenez', '', '', '1.jpg', 'M', '0000-00-00', ''),
('10', 'Andres', 'Ibarra', 'Ibarra', '', '', '10.jpg', 'M', '0000-00-00', ''),
('2', 'Cleotilde', 'Tenorio', 'Hernandez', '', '', '2.jpg', 'M', '0000-00-00', ''),
('240711010', 'hola', 'Bernal', 'Jimenez', '', '', '240711010.jpg', 'M', '0000-00-00', ''),
('242711011', 'Docente', 'Prueba', 'Base De Datos', '242711011@docente-integri-test.edu.mx', '2314512412', '242711011.jpg', '', '1999-02-27', '123456789123456789'),
('242711012', 'Docente', 'Prueba', 'Base De Datos', '242711012@docente-integri-test.edu.mx', '0987654234', '242711012.jpg', '', '1999-02-27', 'QWERTYUIOPQWERTYUI'),
('242711013', 'Docente', 'Prueba', 'Base De Datos', '242711013@docente-integri-test.edu.mx', '0476028359', '242711013.jpg', '', '1999-02-27', 'LDASKFASFNALSDASFC'),
('242711014', 'Docente', 'Prueba', 'Base De Datos', '242711014@docente-integri-test.edu.mx', '1025631301', '242711014.jpg', '', '1999-02-27', 'CAPSFLGNASLVKNALAS'),
('242711015', 'Docente', 'Prueba', 'Base De Datos', '242711015@docente-integri-test.edu.mx', '1025631300', '242711015.jpg', '', '1999-02-27', 'AAAAAAAAAAAAAAAAAA'),
('242711016', 'Docente De', 'Prueba ', 'Final', '242711016@docente-integri-test.edu.mx', '1234567891', '242711016.jpg', '', '1999-11-21', 'SDHFGHKABLUSIFYAHS'),
('3', 'Omar', 'Soto', 'Morales', '', '', '3.jpg', 'M', '0000-00-00', ''),
('4', 'Andres', 'Ibarra', 'Lafarga', '', '', '4.jpg', 'M', '0000-00-00', ''),
('5', 'Arisbeth', 'Bernal', 'Salinas', '', '', '5.jpg', 'M', '0000-00-00', ''),
('6', 'Ariana Lizeth', 'González', 'Osuna', '', '', '6.jpg', 'M', '0000-00-00', ''),
('7', 'Rebeca', 'Rivera', 'Marinez', '', '', '7.jpg', 'M', '0000-00-00', ''),
('8', 'Carolina Estefanie', 'Garcia', 'Zaragoza', '', '', '8.jpg', 'M', '0000-00-00', ''),
('9', 'Josue', 'Moreno', 'Martinez', '', '', '9.jpg', 'M', '0000-00-00', '');

--
-- Disparadores `docente`
--
DELIMITER $$
CREATE TRIGGER `after_insert_docente` AFTER INSERT ON `docente` FOR EACH ROW BEGIN
    INSERT INTO usuarios (password, tipo_usuario, identificador_usuario)
    VALUES (SHA2(NEW.numEmpleado, 256), 'maestro', NEW.numEMpleado);
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `asignar_adatos_docente` BEFORE INSERT ON `docente` FOR EACH ROW BEGIN
  


  IF NEW.numEmpleado IS NULL OR NEW.numEmpleado = '' THEN
    CALL numero_empleado(@num_empleado);
    SET NEW.numEmpleado = @num_empleado;
    END IF;
    set NEW.correo = CONCAT(@num_empleado,"@docente-integri-test.edu.mx");
    SET NEW.foto = CONCAT(NEW.numEmpleado, '.jpg');
    SET NEW.genero = UPPER(NEW.genero); 
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `estado`
--

CREATE TABLE `estado` (
  `numEstado` int(11) NOT NULL,
  `descripcion` varchar(120) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `estado`
--

INSERT INTO `estado` (`numEstado`, `descripcion`) VALUES
(0, 'Inactivo'),
(1, 'Activo');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `examen`
--

CREATE TABLE `examen` (
  `numExam` int(11) NOT NULL,
  `titulo` varchar(30) NOT NULL,
  `inicioExamen` date NOT NULL,
  `finalExamen` date NOT NULL,
  `numEstado` int(11) NOT NULL,
  `numempleado` varchar(11) NOT NULL,
  `cursonum` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `examen`
--

INSERT INTO `examen` (`numExam`, `titulo`, `inicioExamen`, `finalExamen`, `numEstado`, `numempleado`, `cursonum`) VALUES
(1, 'pruebaaaa', '2024-08-04', '2025-09-01', 0, '2', NULL),
(2, 'Examen 1er Parcial', '2025-09-01', '2025-09-05', 0, '2', 1),
(3, 'Bacterias', '2024-08-05', '2024-08-06', 0, '9', NULL),
(4, 'Diagrama entidad relacion', '2024-07-11', '2024-08-15', 0, '2', 1),
(5, 'Modelo relacional', '2024-03-14', '2024-11-29', 1, '2', 1),
(6, 'Reprobados Examen', '2024-08-07', '2025-10-12', 1, '2', NULL),
(7, 'Acentuaciones', '2023-03-14', '2025-07-01', 1, '7', NULL),
(8, 'Ortografia y sistemas de puntu', '2024-01-31', '2025-02-07', 1, '7', NULL),
(9, 'examen prueba', '2024-08-05', '2025-09-01', 1, '2', 1),
(10, 'Tiempos verbales', '2024-03-07', '2025-03-13', 1, '6', NULL),
(11, 'Verbo to be', '2024-01-31', '2025-02-07', 1, '6', NULL),
(12, 'Algebra vectorial', '2024-11-28', '2024-11-29', 1, '1', NULL),
(13, 'Calculo diferencial', '2024-03-07', '2025-03-13', 1, '3', NULL),
(14, 'Geometria y trigonometria', '2024-01-31', '2025-02-07', 1, '1', NULL),
(15, 'prueba sin titulo', '2024-08-05', '2025-09-20', 0, '4', NULL),
(16, 'Diagramas de flujo', '2024-01-31', '2025-02-07', 1, '5', NULL),
(17, 'Sintaxis de Java', '2023-03-14', '2025-03-16', 1, '5', NULL),
(18, 'Sentencias en programacion', '2024-03-07', '2025-03-13', 1, '5', NULL),
(19, 'PRUEBA DE BASE DE DATOS', '2024-07-31', '2025-09-01', 1, '2', 1),
(20, 'prueba2', '2024-08-05', '2025-09-03', 1, '8', 1),
(21, 'Diagrama de flujo', '2024-08-06', '2024-09-01', 0, '1', 1),
(22, 'remedial2', '2024-08-09', '2025-09-01', 1, '1', 1),
(23, 'examen de sintaxis', '2024-08-05', '2024-08-09', 0, '9', NULL),
(24, 'afsdgsfhdg', '0000-00-00', '0000-00-00', 0, '1', 2),
(25, 'programacion', '0000-00-00', '0000-00-00', 0, '1', 2),
(26, 'hola', '0000-00-00', '0000-00-00', 0, '1', 6),
(27, 'afasf', '0000-00-00', '0000-00-00', 0, '1', 6),
(28, 'dfasdpi', '0000-00-00', '0000-00-00', 0, '1', 2),
(29, 'que tal', '0000-00-00', '0000-00-00', 0, '2', 1),
(30, 'examen d', '0000-00-00', '0000-00-00', 0, '2', 1),
(31, 'prueba funcional', '2024-11-01', '2024-11-28', 1, '2', 1),
(32, 'sintaxillapdsad', '0000-00-00', '0000-00-00', 0, '1', 2),
(33, 'examen de base datos', '0000-00-00', '0000-00-00', 0, '2', 1),
(34, 'asddasd', '0000-00-00', '0000-00-00', 0, '1', 2),
(35, 'Sdas', '2024-11-27', '2024-11-29', 1, '1', 2),
(36, 'Sdas', '0000-00-00', '0000-00-00', 0, '1', 2),
(37, 'Sddasdad', '2024-11-21', '0000-00-00', 0, '1', 2),
(38, 'examen de prueba final', '0000-00-00', '0000-00-00', 0, '242711016', 16),
(39, 'examen de prueba', '2024-11-27', '2024-11-28', 1, '242711016', 16),
(40, 'ads', '0000-00-00', '0000-00-00', 0, '1', 2),
(41, ',.', '0000-00-00', '0000-00-00', 0, '1', 6),
(42, 'dasd', '0000-00-00', '0000-00-00', 0, '1', 2);
--
-- Disparadores `examen`
--
DELIMITER $$
CREATE TRIGGER `cambiar_estado_examen` BEFORE UPDATE ON `examen` FOR EACH ROW BEGIN
    IF CURDATE() < OLD.inicioExamen OR CURDATE() > OLD.finalExamen THEN
        SET NEW.numEstado = 0; 
    ELSE
        SET NEW.numEstado = 1;
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `grupo`
--

CREATE TABLE `grupo` (
  `grupo` int(11) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `fechaInicio` date NOT NULL,
  `fechaFinal` date NOT NULL,
  `promedio` decimal(10,2) NOT NULL DEFAULT 0.00,
  `cantidadAlumnos` int(11) NOT NULL DEFAULT 0,
  `estado` int(11) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `grupo`
--

INSERT INTO `grupo` (`grupo`, `nombre`, `fechaInicio`, `fechaFinal`, `promedio`, `cantidadAlumnos`, `estado`) VALUES
(1, '5D', '2025-06-01', '2025-04-29', 8.08, 22, 0),
(2, '4B', '2024-06-01', '2025-04-29', 8.36, 20, 1),
(3, '1C', '2024-06-01', '2025-04-29', 8.11, 20, 1),
(4, '1A', '2024-06-01', '2025-04-29', 8.63, 20, 1),
(5, '3D', '2024-07-28', '2023-10-04', 0.00, 0, 0),
(6, '1P', '2024-07-29', '2024-08-12', 0.00, 0, 0),
(7, 'Prueba', '2024-06-01', '2025-04-29', 8.29, 1, 1),
(8, 'curso de prueba final', '2024-11-01', '2024-11-27', 0.00, 1, 1);

--
-- Disparadores `grupo`
--
DELIMITER $$
CREATE TRIGGER `cambiar_estado_grupo` BEFORE UPDATE ON `grupo` FOR EACH ROW BEGIN
    IF CURDATE() < OLD.fechaInicio OR CURDATE() > OLD.fechaFinal THEN
        SET NEW.estado = 0; 
    ELSE
        SET NEW.estado = 1;
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `grupohistorial`
--

CREATE TABLE grupohistorial (
  `numero` int(11) NOT NULL,
  `grupo_numero` int(11) DEFAULT NULL,
  `grupo_nombre` varchar(30) NOT NULL,
  `fechaInicio` date NOT NULL,
  `fechaFinal` date NOT NULL,
  `alumno_matricula` varchar(10) NOT NULL,
  `alumno_nombre` varchar(30) NOT NULL,
  `promedio_alumno` decimal(10,0) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `pregunta`
--

CREATE TABLE `pregunta` (
  `numPregunta` int(11) NOT NULL,
  `descripcion` varchar(120) NOT NULL,
  `valor` decimal(10,0) NOT NULL DEFAULT 0,
  `preguntaNumero` int(11) NOT NULL,
  `numExam` int(11) NOT NULL,
  `codeTipo` varchar(7) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `pregunta`
--

INSERT INTO `pregunta` (`numPregunta`, `descripcion`, `valor`, `preguntaNumero`, `numExam`, `codeTipo`) VALUES
(1, 'Un ejemplo de una entidad es:', 20, 1, 4, 'opcmult'),
(2, 'Ejemplo de un atributo es:', 30, 2, 4, 'opcmult'),
(3, 'Es valido el tipo de relacion ninguno a varios.¿verdadero o falso?', 50, 3, 4, 'verofal'),
(4, 'En un modelo relacional, las relaciones entre tablas se establecen mediante claves foraneas.¿verdadero o falso?', 25, 4, 5, 'verofal'),
(5, '¿que representa una dupla en un modelo relacional?', 35, 5, 5, 'opcmult'),
(6, '¿Cuales de los siguientes son componentes principales de una tabla en un modelo relacional?', 40, 6, 5, 'selmult'),
(7, '¿que simbolo se utiliza comunmente para representar una decision en un diagrama de flujo?', 15, 7, 17, 'opcmult'),
(8, '¿Cuales son los elementos tipicos en un diaframa de flujo?', 45, 8, 17, 'selmult'),
(9, 'un diagrama de flujo no puede incluir bucles o repeticiones de pasos.¿verdadero o falso?', 40, 9, 17, 'verofal'),
(10, '¿Que tipo de sentencias se utiliza para repetir un bloque de codigo un numero especifico de veces?', 50, 10, 19, 'opcmult'),
(11, '¿cuales de las siguientes son sentencias de control de flujo en programacion?', 30, 11, 19, 'selmult'),
(12, 'La sentencia \"\"return\"\" se utiliza para terminar la ejecucion de una funcion y devolver un valor.¿verdadero o falso?', 20, 12, 19, 'verofal'),
(13, '¿Como se define una clase en Java?', 40, 13, 18, 'opcmult'),
(14, '¿Cual de los siguientes son modificadores de acceso en Java?', 75, 14, 18, 'selmult'),
(15, 'En java, una clase puede heredar de multiples clases.¿verdadero o falso?', 40, 15, 18, 'verofal'),
(16, '¿Cual es la formula para el area de un circulo?', 35, 16, 15, 'opcmult'),
(17, '¿Cuales de los siguientes son elementos de un triangulo?', 40, 17, 15, 'selmult'),
(18, 'En un triangulo, la suma de los angulos interiores siempre es 180 grados.¿verdadero o falso?', 30, 18, 15, 'verofal'),
(19, '¿Que representa geometricamente la derivada de una funcion en un punto?', 25, 19, 14, 'opcmult'),
(20, '¿Cuales de las siguientes son reglas de derivacion?', 45, 20, 14, 'selmult'),
(21, 'La derivada de una constante es siempre cero.¿verdadero o falso?', 25, 21, 14, 'verofal'),
(22, '¿Cual es el resultado del producto escalar de dos vectores a y b perpendiculares entre si?', 30, 22, 13, 'opcmult'),
(23, '¿Cuales de las siguientes operaciones se pueden realizar con vectores en un plano?', 30, 23, 13, 'selmult'),
(24, 'Dos vectores son linealmente dependientes si y solo si son paralelos.¿verdadero o falso?', 25, 24, 13, 'verofal'),
(25, '¿Que signo de puntuacion se utiliza para indicar una pausa breve en una oracion, usualmente para enumerar elementos?', 20, 25, 8, 'opcmult'),
(26, '¿Cual de los siguientes signos de puntuacion se utiliza para marcar un inciso en una oracion?', 75, 26, 8, 'selmult'),
(27, 'En español, los signos de exclamacion solo se colocan al final de la oracion.¿verdadero o falso?', 40, 27, 8, 'verofal'),
(28, '¿Cual es la funcion principal de los puntos suspensivos en una oracion?', 30, 28, 7, 'opcmult'),
(29, '¿En que casos se utiliza los parentesis?', 25, 29, 7, 'opcmult'),
(30, 'El punto y coma se usa exclusivamente para separar elemntos en una lista compleja.¿verdadero o falso?', 45, 30, 7, 'verofal'),
(31, '¿Cual es la forma correcta del verbo to be para la primera persona del singular en presente?', 40, 31, 12, 'opcmult'),
(32, '¿Cuales de las siguientes formas son correctas del verbo to be en pasado?', 50, 32, 12, 'selmult'),
(33, 'La forma was se utilizada para la primera y tercera persona del singular en pasado.¿verdadero o falso?', 40, 33, 12, 'verofal'),
(34, '¿Cual es la forma correcta del verbo en pasado perfecto para la primera persona del singular?', 45, 34, 11, 'opcmult'),
(35, '¿Cuales de las siguientes formas verbales se utiliza para hablar de acciones futuras?', 30, 35, 11, 'selmult'),
(36, 'El tiempo verbal present perfect se usa para hablar de acciones que sucedieron en un pasado definido y que ya han termin', 49, 36, 11, 'verofal'),
(37, 'asdga', 11, 1, 24, 'verofal'),
(38, 'cagsh', 4, 1, 24, 'opcmult'),
(39, 'fadgsfhdg,m,m', 2, 1, 24, 'opcmult'),
(40, 'agsasg', 6, 1, 24, 'opcmult'),
(41, 'agsag', 4, 1, 24, 'verofal'),
(42, 'dyfgfuhj', 4, 1, 24, 'verofal'),
(43, 'dyfgfuhj', 4, 1, 24, 'verofal'),
(44, 'dyfgfuhj', 4, 1, 24, 'verofal'),
(45, 'afdsgd', 3, 1, 24, 'opcmult'),
(46, 'dsfgh', 6, 1, 24, 'opcmult'),
(47, 'hola', 1, 1, 25, 'opcmult'),
(49, 'que tal', 4, 1, 25, 'opcmult'),
(52, 'ad', 1, 1, 25, 'verofal'),
(53, 'fhlakj;ln', 3, 1, 25, 'selmult'),
(54, 'que tal', 2, 1, 26, 'opcmult'),
(55, 'dasd', 3, 1, 26, 'verofal'),
(57, 'sdaslkda', 2, 1, 26, 'selmult'),
(58, 'que tal', 1, 1, 26, 'opcmult'),
(59, 'opcmult', 1, 1, 26, 'opcmult'),
(60, 'hola', 1, 1, 26, 'verofal'),
(61, 'verofal', 1, 1, 26, 'verofal'),
(62, 'adasd', 2, 1, 27, 'verofal'),
(63, 'sdasdad', 1, 1, 27, 'verofal'),
(64, 'sadads', 3, 1, 27, 'verofal'),
(65, 'asdaf', 2, 1, 27, 'verofal'),
(66, 'afa', 2, 1, 27, 'verofal'),
(67, 'sadad', 2, 1, 27, 'verofal'),
(68, 'sdff', 3, 1, 27, 'opcmult'),
(69, 'klnjbhj', 2, 1, 27, 'verofal'),
(70, 'asf', 2, 1, 27, 'verofal'),
(71, 'asdasdad', 2, 1, 27, 'selmult'),
(72, 'asd', 2, 1, 27, 'verofal'),
(73, 'verofal', 3, 1, 27, 'verofal'),
(74, 'verofal', 3, 1, 27, 'verofal'),
(75, 'verofal', 3, 1, 27, 'verofal'),
(76, 'opcmultiple', 2, 1, 27, 'opcmult'),
(77, 'opcmultiple', 2, 1, 27, 'opcmult'),
(78, 'bkjn', 2, 1, 27, 'selmult'),
(79, 'am;lg', 1, 1, 27, 'opcmult'),
(80, 'am;lg', 1, 1, 27, 'opcmult'),
(81, 'adios', 4, 1, 28, 'opcmult'),
(82, 'aasf', 2, 1, 28, 'verofal'),
(83, 'aasf', 2, 1, 28, 'verofal'),
(84, 'que tal', 3, 1, 29, 'opcmult'),
(85, 'sdasdad', 5, 1, 29, 'opcmult'),
(86, 'sdasdad', 5, 1, 29, 'opcmult'),
(87, 'jhsg', 2, 1, 29, 'selmult'),
(88, 'dgfhgdsfhdg', 3, 1, 29, 'verofal'),
(89, 'modelo relacional', 9, 1, 30, 'opcmult'),
(90, 'adasd', 4, 1, 30, 'selmult'),
(91, 'fafasfas', 3, 1, 30, 'selmult'),
(92, 'fafasfas', 3, 1, 30, 'selmult'),
(93, 'asdasdasd', 3, 1, 30, 'opcmult'),
(95, 'sgaga', 3, 1, 30, 'verofal'),
(96, 'opcmult', 2, 1, 30, 'opcmult'),
(97, 'opcmult', 2, 1, 30, 'opcmult'),
(98, 'opcmult', 2, 1, 30, 'opcmult'),
(99, 'opcmult', 2, 1, 30, 'opcmult'),
(101, 'selmult', 7, 1, 30, 'selmult'),
(104, 'verofal', 2, 1, 30, 'verofal'),
(105, 'opcmult', 1, 1, 30, 'opcmult'),
(107, 'selmult', 3, 1, 30, 'selmult'),
(110, 'verofal', 3, 1, 30, 'verofal'),
(111, 'opcmult', 10, 1, 31, 'opcmult'),
(113, 'selmult', 11, 1, 31, 'selmult'),
(116, 'verofal', 23, 1, 31, 'verofal'),
(117, 'adios', 100, 1, 32, 'opcmult'),
(118, 'pregunta1', 3, 1, 33, 'opcmult'),
(119, 'daf', 2, 1, 33, 'verofal'),
(120, 'holadasda', 2, 1, 37, 'opcmult'),
(121, 'asdas', 2, 1, 37, 'verofal'),
(123, 'asdaf', 3, 1, 37, 'selmult'),
(124, 'validacion', 3, 1, 35, 'opcmult'),
(125, 'pregunta de prueba opcion multiple', 13, 1, 39, 'opcmult'),
(127, 'pregunta de prueba seleccion multiple', 3, 1, 39, 'selmult'),
(130, 'pregunta de prueba de verdadero o falso', 3, 1, 39, 'verofal');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `registro`
--

CREATE TABLE `registro` (
  `matricula` varchar(10) NOT NULL,
  `grupo` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `registro`
--

INSERT INTO `registro` (`matricula`, `grupo`) VALUES
('1124070085', 1),
('2203290000', 1),
('2203290001', 1),
('2203290002', 1),
('2203290003', 1),
('2203290004', 1),
('2203290005', 1),
('2203290006', 1),
('2203290007', 1),
('2203290008', 1),
('2203290009', 1),
('2203290010', 1),
('2203290011', 1),
('2203290012', 1),
('2203290013', 1),
('2203290014', 1),
('2203290015', 1),
('2203290016', 1),
('2203290017', 1),
('2203290018', 1),
('2203290019', 1),
('2305140000', 2),
('2305140002', 2),
('2305140003', 2),
('2305140004', 2),
('2305140005', 2),
('2305140006', 2),
('2305140007', 2),
('2305140008', 2),
('2305140009', 2),
('2305140010', 2),
('2305140011', 2),
('2305140012', 2),
('2305140013', 2),
('2305140014', 2),
('2305140015', 2),
('2305140016', 2),
('2305140017', 2),
('2305140018', 2),
('2305140019', 2),
('2305140039', 2),
('2401040000', 3),
('2401040001', 3),
('2401040002', 3),
('2401040003', 3),
('2401040004', 3),
('2401040005', 3),
('2401040006', 3),
('2401040007', 3),
('2401040008', 3),
('2401040009', 3),
('2401040010', 3),
('2401040011', 3),
('2401040012', 3),
('2401040013', 3),
('2401040014', 3),
('2401040015', 3),
('2401040016', 3),
('2401040017', 3),
('2401040018', 3),
('2401040019', 3),
('2401040020', 4),
('2401040021', 4),
('2401040022', 4),
('2401040023', 4),
('2401040024', 4),
('2401040025', 4),
('2401040026', 4),
('2401040027', 4),
('2401040028', 4),
('2401040029', 4),
('2401040030', 4),
('2401040031', 4),
('2401040032', 4),
('2401040033', 4),
('2401040034', 4),
('2401040035', 4),
('2401040036', 4),
('2401040037', 4),
('2401040038', 4),
('2401040039', 4),
('2401040040', 8),
('2401040041', 1),
('2401040044', 7);

--
-- Disparadores `registro`
--
DELIMITER $$
CREATE TRIGGER `aumentar_cantidadalumnos` AFTER INSERT ON `registro` FOR EACH ROW BEGIN
    CALL alumnosPorGrupo(NEW.grupo, @alumnos);
    UPDATE grupo
    SET cantidadAlumnos = @alumnos
    WHERE grupo = NEW.grupo;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `disminuir_cantidadalumnos` AFTER DELETE ON `registro` FOR EACH ROW BEGIN
    CALL alumnosPorGrupo(OLD.grupo, @alumnos);
    UPDATE grupo
    SET cantidadAlumnos = @alumnos
    WHERE grupo = old.grupo;
END
$$
DELIMITER ;

DELIMITER $$
CREATE TRIGGER `historialGrupo` BEFORE DELETE ON `registro` FOR EACH ROW BEGIN
    INSERT INTO grupohistorial (
        grupo_numero,
        grupo_nombre,
        fechaInicio,
        fechaFinal,
        alumno_matricula,
        alumno_nombre,
        promedio_alumno
    )
    SELECT 
        g.grupo,
        g.nombre,
        g.fechaInicio,
        g.fechaFinal,
        a.matricula,
        CONCAT(a.nombre, ' ', a.apellidoP, ' ', IFNULL(a.apellidoM, '')) AS alumno_nombre, a.promedio
    FROM grupo g JOIN alumno a ON a.matricula = OLD.matricula
    WHERE g.grupo = OLD.grupo;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `respuesta`
--

CREATE TABLE `respuesta` (
  `numRespuesta` int(11) NOT NULL,
  `respuestaNum` int(11) NOT NULL,
  `valor` decimal(10,0) NOT NULL,
  `descripcion` varchar(120) NOT NULL,
  `pregunta` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `respuesta`
--

INSERT INTO `respuesta` (`numRespuesta`, `respuestaNum`, `valor`, `descripcion`, `pregunta`) VALUES
(1, 1, 20, 'Un cliente', 1),
(2, 2, 0, 'un pedido de clientes', 1),
(3, 3, 0, 'El cheque de pago de un empleado', 1),
(4, 4, 0, 'El nombre de un cliente', 1),
(5, 1, 0, 'Un empleado', 2),
(6, 2, 30, 'El nombre de un empleado', 2),
(7, 3, 0, 'El cheque de pago de un empleado', 2),
(8, 4, 0, 'La lista alfabetica de empleados', 2),
(9, 1, 0, 'Verdadero', 3),
(10, 2, 50, 'falso', 3),
(11, 1, 25, 'verdadero', 4),
(12, 2, 0, 'falso', 4),
(13, 1, 35, 'Una fila en una tabla', 5),
(14, 2, 0, 'Una columna en una tabla', 5),
(15, 3, 0, 'Un índice de tabla', 5),
(16, 4, 0, 'Un esquema de base de datos', 5),
(17, 1, 13, 'Tuplas', 6),
(18, 2, 13, 'Claves foráneas', 6),
(19, 3, 13, 'Atributos', 6),
(20, 4, 0, 'Metodos', 6),
(21, 1, 15, 'Diamante', 7),
(22, 2, 0, 'Círculo', 7),
(23, 3, 0, 'Rectangulo', 7),
(24, 1, 15, 'Rectángulo', 8),
(25, 2, 0, 'cuadrado', 8),
(26, 3, 0, 'Círculo,', 8),
(27, 4, 15, 'Diamante', 8),
(28, 5, 15, 'Flechas', 8),
(29, 1, 40, 'falso', 9),
(30, 2, 0, 'verdadero', 9),
(31, 1, 50, 'For', 10),
(32, 2, 0, 'If-else', 10),
(33, 3, 0, 'while', 10),
(34, 1, 10, 'If-else', 11),
(35, 2, 0, 'Do while', 11),
(36, 3, 10, 'For', 11),
(37, 4, 10, 'While', 11),
(38, 1, 20, 'verdadero', 12),
(39, 2, 0, 'falso', 12),
(40, 1, 40, 'class NombreClase {}', 13),
(41, 2, 0, 'Class void NomnbreClase{}', 13),
(42, 3, 0, 'Public Class void NombreClase{}', 13),
(43, 1, 25, 'private', 14),
(44, 2, 25, 'protected', 14),
(45, 3, 0, 'void', 14),
(46, 4, 25, 'public', 14),
(47, 1, 40, 'falso', 15),
(48, 2, 0, 'verdadero', 15),
(49, 1, 35, 'πr^2', 16),
(50, 2, 0, 'πr', 16),
(51, 3, 0, 'π', 16),
(52, 1, 20, 'Cateto', 17),
(53, 2, 0, 'Radio', 17),
(54, 3, 20, 'Hipotenusa', 17),
(55, 1, 30, 'verdadero', 18),
(56, 2, 0, 'falso', 18),
(57, 1, 0, 'La pendiente de la tangente a la curva en ese punto', 19),
(58, 2, 0, 'El área bajo la curva en ese punto', 19),
(59, 3, 0, 'La longitud de la curva en ese punto', 19),
(60, 4, 25, 'El ángulo entre la tangente y la normal en ese punto', 19),
(61, 1, 15, 'Regla del producto', 20),
(62, 2, 15, 'Regla del cociente', 20),
(63, 3, 15, 'Regla de la suma', 20),
(64, 4, 0, 'Regla al cuadrado', 20),
(65, 1, 25, 'verdadero', 21),
(66, 2, 0, 'falso', 21),
(67, 1, 30, 'cero', 22),
(68, 2, 0, 'uno', 22),
(69, 3, 0, 'dos', 22),
(70, 1, 10, 'Diferencia de vectores', 23),
(71, 2, 10, 'Producto escalar', 23),
(72, 3, 10, 'Suma de vectores', 23),
(73, 4, 0, 'ninguna de las anteriores', 23),
(74, 1, 25, 'verdadero', 24),
(75, 2, 0, 'falso', 24),
(76, 1, 20, 'coma', 25),
(77, 2, 0, 'Punto', 25),
(78, 3, 0, 'parentesis', 25),
(79, 1, 25, 'Guiones', 26),
(80, 2, 25, 'Corchetes', 26),
(81, 3, 25, 'Paréntesis', 26),
(82, 4, 0, 'Punto', 26),
(83, 5, 0, 'coma', 26),
(84, 1, 40, 'falso', 27),
(85, 2, 0, 'verdadero', 27),
(86, 1, 30, 'Crear una pausa prolongada o indicar una omisión', 28),
(87, 2, 0, 'Indica el final de una oracion', 28),
(88, 3, 0, 'indica el principio', 28),
(89, 1, 25, 'Para insertar información adicional o aclaratoria', 29),
(90, 2, 0, 'Para finalizar una palabra', 29),
(91, 3, 0, 'Para iniciar una palabra', 29),
(92, 1, 45, 'falso', 30),
(93, 2, 0, 'verdadero', 30),
(94, 1, 0, 'Are', 31),
(95, 2, 0, 'you', 31),
(96, 3, 40, 'Am', 31),
(97, 4, 0, 'Is', 31),
(98, 1, 25, 'Was', 32),
(99, 2, 25, 'Were', 32),
(100, 3, 0, 'Is', 32),
(101, 4, 0, 'Am', 32),
(102, 1, 40, 'verdadero', 33),
(103, 2, 0, 'falso', 33),
(104, 1, 0, 'I had walked', 34),
(105, 2, 0, 'I had walking', 34),
(106, 3, 45, 'I have walked', 34),
(107, 1, 30, 'Future simple', 35),
(109, 3, 0, 'simple present', 35),
(110, 4, 0, 'past perfect', 35),
(111, 1, 40, 'verdadero', 36),
(112, 2, 0, 'falso', 36),
(113, 1, 1, 'afsf', 37),
(114, 1, 1, 'afsf', 37),
(115, 1, 1, 'afsf', 38),
(116, 1, 1, 'afsf', 38),
(117, 1, 1, 'afsf', 39),
(118, 1, 1, 'afsf', 39),
(119, 1, 1, 'afsf', 39),
(120, 1, 1, 'afsf', 40),
(121, 1, 1, 'afsf', 40),
(122, 1, 1, 'afsf', 41),
(123, 1, 1, 'afsf', 41),
(124, 1, 1, 'afsf', 42),
(125, 1, 1, 'afsf', 42),
(126, 1, 1, 'afsf', 43),
(127, 1, 1, 'afsf', 43),
(128, 1, 1, 'afsf', 44),
(129, 1, 1, 'afsf', 44),
(130, 1, 1, 'afsf', 45),
(131, 1, 1, 'afsf', 45),
(132, 1, 1, 'afsf', 46),
(133, 1, 1, 'afsf', 46),
(134, 1, 1, 'afsf', 47),
(135, 1, 1, 'afsf', 47),
(136, 1, 1, 'afsf', 49),
(137, 1, 1, 'afsf', 49),
(138, 1, 1, 'afsf', 49),
(139, 1, 1, 'afsf', 52),
(140, 1, 1, 'afsf', 52),
(141, 1, 1, 'afsf', 53),
(142, 1, 1, 'afsf', 53),
(254, 1, 2, 'dasjgpao', 54),
(255, 1, 0, 'que onda', 54),
(256, 1, 0, 'Verdadero', 55),
(257, 1, 3, 'Falso', 55),
(258, 1, 2, 'cacfasfaa', 57),
(259, 1, 0, 'lknkvnv', 57),
(260, 1, 1, 'que', 58),
(261, 1, 0, 'tal', 58),
(262, 1, 1, 'opc1', 59),
(263, 1, 0, 'opc2', 59),
(264, 1, 1, 'Verdadero', 60),
(265, 1, 0, 'Verdadero', 61),
(266, 1, 2, 'Verdadero', 62),
(267, 1, 1, 'Verdadero', 63),
(268, 1, 3, 'Verdadero', 64),
(269, 1, 2, 'Verdadero', 65),
(270, 1, 2, 'Verdadero', 66),
(271, 1, 2, 'Verdadero', 67),
(273, 1, 0, 'a', 68),
(274, 1, 0, 'b', 68),
(275, 1, 3, 'c', 68),
(276, 1, 0, 'd', 68),
(277, 1, 0, 'e', 68),
(278, 1, 0, 'Verdadero', 69),
(279, 1, 2, 'Falso', 69),
(280, 1, 2, 'Verdadero', 70),
(281, 1, 1, 'asdasddasda', 71),
(282, 1, 1, 'asdadsad', 71),
(283, 1, 2, 'Verdadero', 72),
(284, 1, 0, 'Falso', 72),
(285, 1, 3, 'Verdadero', 73),
(286, 1, 0, 'Falso', 73),
(287, 1, 3, 'Verdadero', 74),
(288, 1, 0, 'Falso', 74),
(289, 1, 3, 'Verdadero', 75),
(290, 1, 0, 'Falso', 75),
(291, 1, 0, 'lhalfa', 76),
(292, 1, 2, 'lihasdlha', 76),
(293, 1, 2, 'lhalfa', 77),
(294, 1, 0, 'lihasdlha', 77),
(295, 1, 2, ';lad', 78),
(296, 1, 0, 'asfag', 78),
(297, 1, 1, 'aga', 79),
(298, 1, 0, 'asdfag', 79),
(299, 1, 1, 'aga', 80),
(300, 1, 0, 'asdfag', 80),
(301, 1, 0, 'aa', 81),
(302, 1, 4, 'halo', 81),
(303, 1, 0, 'aaa', 81),
(304, 1, 0, 'Verdadero', 82),
(305, 1, 2, 'Falso', 82),
(306, 1, 0, 'Verdadero', 83),
(307, 1, 2, 'Falso', 83),
(308, 1, 3, '1', 84),
(309, 1, 0, '2', 84),
(310, 1, 0, '3', 84),
(311, 1, 5, '1', 85),
(312, 1, 0, '2', 85),
(313, 1, 0, '1', 86),
(314, 1, 5, '2', 86),
(315, 1, 2, 'sdf', 87),
(316, 1, 0, 'dfsdfg', 87),
(317, 1, 3, 'Verdadero', 88),
(318, 1, 0, 'Falso', 88),
(319, 1, 9, 'si', 89),
(320, 1, 0, 'no', 89),
(321, 1, 0, 'sdasd', 90),
(322, 1, 4, 'sda', 90),
(323, 1, 1, 'dasd', 91),
(324, 1, 0, 'fasf', 91),
(325, 1, 1, 'dsagasfa', 91),
(326, 1, 1, 'dasd', 92),
(327, 1, 0, 'fasfadghggggggggggg', 92),
(328, 1, 1, 'dsagasfa', 92),
(329, 1, 3, 'dasdad', 93),
(330, 1, 0, 'asd', 93),
(331, 1, 0, 'Verdadero', 95),
(332, 1, 3, 'Falso', 95),
(333, 1, 0, '1', 96),
(334, 1, 2, '2', 96),
(335, 1, 0, '1', 97),
(336, 1, 2, '2', 97),
(337, 1, 0, '1', 98),
(338, 1, 2, '2', 98),
(339, 1, 0, '1', 99),
(340, 1, 2, '2', 99),
(341, 1, 3, '1', 101),
(342, 1, 0, '2', 101),
(343, 1, 3, '3', 101),
(344, 1, 2, 'Verdadero', 104),
(345, 1, 0, 'Falso', 104),
(346, 1, 1, '1', 105),
(347, 1, 0, '2', 105),
(348, 1, 1, '1', 107),
(349, 1, 1, '2', 107),
(350, 1, 3, 'Verdadero', 110),
(351, 1, 0, 'Falso', 110),
(352, 1, 10, '1', 111),
(353, 1, 0, '2', 111),
(354, 1, 11, '1', 113),
(355, 1, 0, '2', 113),
(356, 1, 23, 'Verdadero', 116),
(357, 1, 0, 'Falso', 116),
(358, 1, 0, 'dasdgpad', 117),
(359, 1, 100, 'asdagpda', 117),
(360, 1, 0, '1ou', 118),
(361, 1, 3, '2pooh', 118),
(362, 1, 0, 'Verdadero', 119),
(363, 1, 2, 'Falso', 119),
(364, 1, 0, 'aad', 120),
(365, 1, 2, '2', 120),
(366, 1, 0, 'Verdadero', 121),
(367, 1, 2, 'Falso', 121),
(368, 1, 0, '1', 123),
(369, 1, 3, '2', 123),
(370, 1, 0, '12', 124),
(371, 1, 3, '2', 124),
(372, 1, 13, 'opcion1 ', 125),
(373, 1, 0, 'opcion2', 125),
(374, 1, 0, 'opcion3', 125),
(375, 1, 0, 'seleccion1', 127),
(376, 1, 3, 'seleccion2', 127),
(377, 1, 0, 'seleccion3', 127),
(378, 1, 0, 'Verdadero', 130),
(379, 1, 3, 'Falso', 130);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `tema`
--

CREATE TABLE `tema` (
  `numTema` int(11) NOT NULL,
  `nombre` varchar(30) NOT NULL,
  `descripcion` varchar(120) NOT NULL,
  `cursonum` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `tema`
--

INSERT INTO `tema` (`numTema`, `nombre`, `descripcion`, `cursonum`) VALUES
(1, 'Acentuaciones', 'Reglas y técnicas para el uso correcto de acentuaciones en la escritura.', 5),
(2, 'Álgebra Vectorial', 'Fundamentos y aplicaciones del álgebra vectorial.', 4),
(3, 'Bacterias', 'Aprenderas sobre las bacterias', 12),
(4, 'Cálculo Diferencial', 'Conceptos y técnicas del cálculo diferencial aplicados a problemas de optimización.', 3),
(5, 'Diagrama Entidad-Relación', 'Diseño y uso de diagramas entidad-relación para representar la estructura de datos.', 1),
(6, 'Diagramas de Flujo', 'Representación gráfica de procesos mediante diagramas de flujo.', 2),
(7, 'Geometría y Trigonometría', 'Fundamentos de geometría y trigonometría, incluyendo aplicaciones prácticas.', 3),
(8, 'introduccion', 'primero pasos', 15),
(9, '13 de agosto del 1521', 'La caida de tenochtitlan, consquista de Mexico', 8),
(10, 'mendix', 'para el grupo de mendiz', 10),
(11, 'Modelo Relacional', 'Conceptos del modelo relacional y su aplicación en el diseño de bases de datos.', 1),
(12, 'Ortografía y puntuaciones', 'Reglas de ortografía y uso adecuado de los sistemas de puntuación en la escritura.', 5),
(13, 'programacion', 'aprenderas sobre la sintaxis en la programacion', 13),
(14, 'tema de prueba', 'para probar', 11),
(15, 'Sentencias en Programación', 'Estructuración y uso de sentencias básicas en programación.', 2),
(16, 'Sintaxis de Java', 'Reglas y estructura del lenguaje de programación Java.', 2),
(17, 'PruebaTema', '17', 11),
(18, 'materiales', 'El tipo de materiales con lo que son elaborados los juguetes', 15),
(19, 'Tiempos Verbales', 'Estudio y aplicación de los tiempos verbales en inglés.', 6),
(20, 'Verbo \"To Be\"', 'Uso y conjugación del verbo \"to be\" en inglés.', 6),
(21, 'Segunda guerra mundial', 'Se veran los sucesos ocurridos entre el periodo de 1939 y de 1945', 8),
(22, 'tema de prueba', 'probando creacion de temas', 16);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `tema_examen`
--

CREATE TABLE `tema_examen` (
  `numTema` int(11) NOT NULL,
  `numExam` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `tema_examen`
--

INSERT INTO `tema_examen` (`numTema`, `numExam`) VALUES
(1, 7),
(2, 12),
(3, 3),
(4, 13),
(4, 14),
(5, 1),
(5, 2),
(5, 4),
(5, 6),
(5, 20),
(5, 29),
(6, 17),
(6, 22),
(6, 25),
(6, 28),
(6, 34),
(6, 35),
(6, 36),
(6, 40),
(11, 5),
(11, 9),
(11, 30),
(11, 31),
(11, 33),
(12, 8),
(13, 23),
(15, 18),
(15, 24),
(15, 32),
(15, 42),
(16, 21),
(16, 37),
(17, 15),
(17, 19),
(19, 10),
(19, 26),
(19, 27),
(19, 41),
(20, 11),
(22, 38),
(22, 39);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `tipo_pregunta`
--

CREATE TABLE `tipo_pregunta` (
  `codeTipo` varchar(7) NOT NULL,
  `descripcion` varchar(120) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `tipo_pregunta`
--

INSERT INTO `tipo_pregunta` (`codeTipo`, `descripcion`) VALUES
('opcmult', 'Pregunta de opcion multiple'),
('selmult', 'Pregunta de seleccion multiple'),
('verofal', 'Pregunta de verdadero o falso');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usuarios`
--

CREATE TABLE `usuarios` (
  `id` int(11) NOT NULL,
  `password` varchar(255) NOT NULL,
  `tipo_usuario` enum('administrador','maestro','alumno') NOT NULL,
  `identificador_usuario` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `usuarios`
--

INSERT INTO `usuarios` (`id`, `password`, `tipo_usuario`, `identificador_usuario`) VALUES
(1, '$2y$10$hsKdXgNT2IBO7OFAUbLgbefB06eEnfke8/RZc43P.JX3B.xk7c5O.', 'alumno', '1124070085'),
(2, '$2y$10$dPGxauc1M4YUCHQ5ZtUvz.p.RtkyMdUPNz.0ETShLYklA9d47eZne', 'alumno', '2203290000'),
(3, '$2y$10$eYJQ8mkWD/PqwVJZX4OAiOBBZTUUPuK3kBFhmA3Fz.84zPPIJJ7Bu', 'alumno', '2203290001'),
(4, '7f129427b5a40be2e64ebd42d088f94b7c1eb332f7b436d7570a1fcf66db7f06', 'alumno', '2203290002'),
(5, 'eef002f6ecfb19f9e1c400cd8b216be9ff3ee9fbc4aca9d1aa50368e9b8855d4', 'alumno', '2203290003'),
(6, '57754ae77e84c0a957a43dce05190d00f40b7a258b4cbf0c1d756cd530ec74df', 'alumno', '2203290004'),
(7, 'f0a1e5c10e41facba7c583a4feb72633e45231087660da5f46685753eadb6acd', 'alumno', '2203290005'),
(8, '6237621db0fffce4abfeccb04b9b0dc16f4b2049c45680825b5d24cefcc6aec9', 'alumno', '2203290006'),
(9, '08f4ea5cb50261a380398532b3a9ebfc01378b07c41014611fb6a12d1ff863e4', 'alumno', '2203290007'),
(10, '3a971a734c8fac2db6472642d04db31e51d52794ee1b5d01795d5ffcd8065ed5', 'alumno', '2203290008'),
(11, '6cb240b545c8b0817d6b1e5f09c3690b76f83c9716a038bc71b39a37f404c5a3', 'alumno', '2203290009'),
(12, 'a23e861db2ee80cc10c60167155a93cf8b7323cf9384bd9bc1e50e49bfccf93a', 'alumno', '2203290010'),
(13, '4d5e196ad4cf184db830c25954a024f572cf671e0f14eb8764f79d5768c42b4f', 'alumno', '2203290011'),
(14, '866caac11f78ea17875650aadab64fe5330022cd697a1506fc4558294e2e1dc8', 'alumno', '2203290012'),
(15, 'f0e5dee83d9db99ee404717c7d7bda1208842a2df5550d2d90fbc3a525067c58', 'alumno', '2203290013'),
(16, '95fe8a57afd9728b02756db14c92694e53b0d93d0dfabe66565c6c93b5458ef6', 'alumno', '2203290014'),
(17, 'ff0afbad0ddc4ed454a9a2c137d14b9f10864aa6f7be2901dbf81ae767071c20', 'alumno', '2203290015'),
(18, '6aec648c318e17eb0ad2d31cd48df24da9bafcb1762417270b36c640a9564547', 'alumno', '2203290016'),
(19, '538c96c3ad14bfb0cef34290a0fb4b6500c710150e169980b4e5cc68efdb1ba1', 'alumno', '2203290017'),
(20, '56b3645193bb6b463da0d08aed793b98b0396a3e3f94d3b095a69b79f0c442c6', 'alumno', '2203290018'),
(21, '00f2a7e92bc822c5c3f7e78e6d525550bce8a1606117bd383c4886552327cadb', 'alumno', '2203290019'),
(22, '1fda79fbf0b3722c35a701fc1704b80318b7f56d32a35c343343a0361819656e', 'alumno', '2305140000'),
(23, '3016104a168c263404f24d0633112366e413c6895fc131a769dc5f0733fd6b8d', 'alumno', '2305140002'),
(24, 'cf2b6f645d13da6544f324e9cb3c2f6b4cf8f6255f2a82013364910c60b29ca2', 'alumno', '2305140003'),
(25, 'd2a20e9b3a38b2bba585be4c880f2e3b1b74143395bc9e8fbd28461000b0b544', 'alumno', '2305140004'),
(26, '312b78987feac4b14684255f12ead9ff44f5d81f50e075a67414ddcfb5a01102', 'alumno', '2305140005'),
(27, 'd3288d596ab63cbbd2956b7d2e55ed268000f1b7db38eba2d91e8c73d1a9cf23', 'alumno', '2305140006'),
(28, 'c79ba53187afb3fb8d28abf3c3c132f169c7e82fa81cd656185a93b0c2de9dad', 'alumno', '2305140007'),
(29, 'b74307aebf9f52945c07e73ff2885e447343d8f4be448cc0ea18050638353ff3', 'alumno', '2305140008'),
(30, '727b79273b20e4e134efcc4b52e603d41c004d72ef87efca119a36c59ede916b', 'alumno', '2305140009'),
(31, 'e223d89d0050b221b338ca17d14581bb7bac300af7de3fe16ab0a455d78cf1f6', 'alumno', '2305140010'),
(32, '21073d436b8464ddb25965ad9a8e3f2c31b50acfa57d3d4dab206b3d4331b8f2', 'alumno', '2305140011'),
(33, '029fc66f46e32018a8af33c49303767c985a0c4c027590d98049beaf5735ae78', 'alumno', '2305140012'),
(34, '6514a9a4019788b648c36df3090b77b3cea841e6305979ec024fc6e1ac8f97b0', 'alumno', '2305140013'),
(35, 'bb1a2b06a610d7f9e8082d0d606e1aac05b0bf2b30986b836dc0938b1cf8978e', 'alumno', '2305140014'),
(36, '7b2657fda597aa747a2b3e51968747f8b46d2cef9a5593094b08e1ba94ef6f48', 'alumno', '2305140015'),
(37, '0d287bbe69967bb8a9dbe439576ed9e4acfa873ac62307666ec52a929f5964b3', 'alumno', '2305140016'),
(38, '42b7c4974ebf2116d8fab150b1838a2e79ef61a656999c1978defae67d1efd55', 'alumno', '2305140017'),
(39, '2666b4d40473299d836b5524563dab8af6a81d04049102f820f318204700b865', 'alumno', '2305140018'),
(40, '4026f85fe0b1782189056b290bab4df4e70cd5f27ef95d0ac536410e98a6cfcc', 'alumno', '2305140019'),
(41, 'a2a517816b33574b7549c871052879377a1ff6a6feb63bc3d7891dca522290b0', 'alumno', '2305140039'),
(42, '61d9d1871f96d968f08f43052ece1697672707b282d6d776682868430faa1d51', 'alumno', '2401040000'),
(43, '3f89f87ca9ef21d532dcdd35d3fd1194768ae40b6e9748e4132e826fe8a034ad', 'alumno', '2401040001'),
(44, 'c12451abc2fa4ef353e284cf6c9b48b2b94d83779975ca830f4008cf413402ef', 'alumno', '2401040002'),
(45, '225c4afafb88e2cd502fb8c2033488d0ff7147c940c0d2ef85512952c87c4591', 'alumno', '2401040003'),
(46, '486ea97b37f186084fceaf6b12ed9daec6baafff476186c81302f357904d6c3a', 'alumno', '2401040004'),
(47, 'a11bd3bcbe275c8ddfbd9ffac117d4d63346a4e8ea30774717111da79969d98d', 'alumno', '2401040005'),
(48, '6fb3db53e618686c6ca3367255fc7d6ff325b0fb1fec3b3eee40a1e831e9ad86', 'alumno', '2401040006'),
(49, '7bf1b067e7c391f61a3cbcaad37f4f7bc1a1ad2427ef74abd61b0f1ce6fd89d6', 'alumno', '2401040007'),
(50, 'f032317207c97226b2c588cdea534e2f970afacb7ba80ccff62fada52e48930f', 'alumno', '2401040008'),
(51, '4b7cacbb1c9079eab9e29a09b675e9f581a63c65e0bc8a418027decc58698900', 'alumno', '2401040009'),
(52, '4a145e3748506eb0127dedd7ac69b8f29baffafcf905900497e0cc8fe24f6bd7', 'alumno', '2401040010'),
(53, '16f251ee6736d1911a719228036d454a2719ad37ec30a4da433a0c8fc8af96b6', 'alumno', '2401040011'),
(54, 'de356bc363f4340d3d9b5c644b423a5fde7fb2630c733ca70f4edeb1a78b3704', 'alumno', '2401040012'),
(55, 'd8965a0e000eb7edc234e58679e7e15ce96093ad6d72a58a66dc2a7f355b16bc', 'alumno', '2401040013'),
(56, 'c9c65fd59cb692f17a12d44ce1a60981ba9a88cc495c0f615a87134418daba06', 'alumno', '2401040014'),
(57, 'acad1887d670789674fd5decf6f3209d9ce6f9dc4c2e73f37eb66ec1baf491e9', 'alumno', '2401040015'),
(58, '24c0fad32edf15b77287c00fb8a4d14c6affa00aab613ae978ce8f140a844f1e', 'alumno', '2401040016'),
(59, '6fa7be384a123822f009ffe49b1f075002ff12653739d42919afa742cbc1506e', 'alumno', '2401040017'),
(60, '377b3fa65ac1ddf912f86e26a086db450c773379fc23106852ab28a59c316196', 'alumno', '2401040018'),
(61, '316012fa547a86c7dcc41a3fe1463cdb62fb44643e612bb2bcd67db0d3a059e8', 'alumno', '2401040019'),
(62, '2f616197fe89b33c7e28590dcd7d75d418d7f0ba28659ca94a8365e45d512df6', 'alumno', '2401040020'),
(63, 'd242769c25e92d02d1d21e573cc65a046fc23a05e229585deef1948fdb579c0d', 'alumno', '2401040021'),
(64, 'e62a3668b74c68b4db1427fd6af9b24cacc2e0a90488a223884636446a778e93', 'alumno', '2401040022'),
(65, 'a3620b54773e02a6b90a0cc7af1c2fa87fb1217a1317fbc55effec85918a3690', 'alumno', '2401040023'),
(66, '32fc88161fb182d8e0fbc30bfa3f034612ac4c21ff296bbe276ac7919e4705ac', 'alumno', '2401040024'),
(67, 'e5777613b75b56af87ef8291b1b6566e66fdb02d2bbc5355cf82b73098524baf', 'alumno', '2401040025'),
(68, 'fef48e7664e41de7df9e8edf5b4926bc7d865675feaec55b7e55f970548f7bf2', 'alumno', '2401040026'),
(69, 'a8d079c88152b1dd7b23fda7da1cd076ea2b75e78bd15343e5206ed06cac9b86', 'alumno', '2401040027'),
(70, 'c604c59281c5c8ef513856a3592ce5c85861a7dcab5a8703fc9282c948e60cc4', 'alumno', '2401040028'),
(71, '6e14c343cca8e01eaea33b6309c9e55bd2f8c0398633965e2bff4be64f416791', 'alumno', '2401040029'),
(72, 'b0cb2e9462c79a33f05b0ecb85c738eaf9b60323b5b71fa1f604d38554272dd9', 'alumno', '2401040030'),
(73, '2b7e144dbb2569f9303ebfe409f8ba53e9915e7ffeb7660de7d8442ab917f4a9', 'alumno', '2401040031'),
(74, '2ecc46f9768a6878a538001710620229182080b0c1c354a42e7b38b82199f6aa', 'alumno', '2401040032'),
(75, '2ca6e05420bf86c2b3e75ce0f6dc53c03dfe581678e79e349d7cacb9747ad43e', 'alumno', '2401040033'),
(76, 'b08946ed6f7b96858c54296b6f40009566a5205b3384b0323fa29efbb65f655b', 'alumno', '2401040034'),
(77, '053bb5165f37fb9729587b3c8d7b4e1e073feb1b86311200a71cd25971166f36', 'alumno', '2401040035'),
(78, '98f7279f5557481fc78cd6205bc3dc0f274aa2b428b223c0974ff75a05a7708a', 'alumno', '2401040036'),
(79, '71f91ddbde760b579bc812a0a4c24ed4483577acb762f9156537cf309ea23a1a', 'alumno', '2401040037'),
(80, '76303e03254b0ad64700b60b62af326067a6344064ce3e69d15d48f2b02cd703', 'alumno', '2401040038'),
(81, '7b3eb51aa3f165754dd969e7ecfb047d88f974535671ef201e68902c50c55d77', 'alumno', '2401040039'),
(82, '$2y$10$vFqkguwXh0FrXjFa.RyV5e4d3Brr9lzof7EXR6p0JelOLs/7AoTly', 'alumno', '2401040040'),
(83, '325b5f4640d04463ab1f9e4666d2e81b701693ed8cf29aa0cf74bc3d2f2f95fe', 'alumno', '2401040041'),
(84, 'ad929ecb7ba0034f3056003ab515f8b0421756a5e1b65c3c389f129d3e264bc6', 'alumno', '2401040042'),
(85, 'bc95e65d04e36d261d06be1cc092d5ca178a2071595dc1cf7d6cb49669a075bb', 'alumno', '2401040043'),
(86, '0121a846ffaa91d792a43b62d1c38182bc72c26566c3f2569ffd8f77b7ecdf2f', 'alumno', '2401040044'),
(87, '$2y$10$TChZHErGzx7ph792rYwFyOOzdbKyaL3kQ7BIWOzKyQ5CGLxZNbdEG', 'maestro', '1'),
(88, '4a44dc15364204a80fe80e9039455cc1608281820fe2b24f1e5233ade6af1dd5', 'maestro', '10'),
(89, '$2y$10$blrxgmnSl2NZiR2I0uXqIuHGaPGqedyIuCfiYg.LCiCZwZNMwMGiC', 'maestro', '2'),
(90, '774ea63b47abde33ec6a2a80a430d565b22311cae52373af1a765845eae54f65', 'maestro', '240711010'),
(91, '4e07408562bedb8b60ce05c1decfe3ad16b72230967de01f640b7e4729b49fce', 'maestro', '3'),
(92, '4b227777d4dd1fc61c6f884f48641d02b4d121d3fd328cb08b5531fcacdabf8a', 'maestro', '4'),
(93, 'ef2d127de37b942baad06145e54b0c619a1f22327b2ebbcfbec78f5564afe39d', 'maestro', '5'),
(94, 'e7f6c011776e8db7cd330b54174fd76f7d0216b612387a5ffcfb81e6f0919683', 'maestro', '6'),
(95, '7902699be42c8a8e46fbbb4501726517e86b22c56a189f7625a6da49081b2451', 'maestro', '7'),
(96, '2c624232cdd221771294dfbb310aca000a0df6ac8b66b696d90ef06fdefb64a3', 'maestro', '8'),
(97, '19581e27de7ced00ff1ce50b2047e7a567c76b1cbaebabe5ef03f7c3017bb5b7', 'maestro', '9'),
(98, '$2y$10$H9djYbf/3OrZ.l4FqdtrXul8K7U4yJIKiCg3lpSWyCzgIBIlx/f0C', 'administrador', '416002'),
(99, '559ea8aab7ec69d5bdb59f93f564cec886b60d021d35c8cc8db2adb2f3f7e84f', 'maestro', '242711011'),
(100, '41ce0f7137ce88c2ebe164387d873d57d2e4e3ce956b504ea34ab48ba5d56d28', 'maestro', '242711012'),
(101, '8237717789ad623a9111805c7ac5cb1ae506ded462ca0c66fdd35815539e194a', 'maestro', '242711013'),
(102, 'c49fc9a91bb829c692a522225170ca33e0b8cd05c69982453ae2055406222f43', 'maestro', '242711014'),
(103, '434366328e555b89c344fb5ae8592a1bf0be0365e288f5adfba2d6693d67c327', 'maestro', '242711015'),
(104, '$2y$10$ooD.FIwIG29zrNp4zgYao.6TExt0D.Qkc98NpF238Yk4VLI24lkoe', 'maestro', '242711016');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `alumno`
--
ALTER TABLE `alumno`
  ADD PRIMARY KEY (`matricula`);

--
-- Indices de la tabla `alumno_examen`
--
ALTER TABLE `alumno_examen`
  ADD PRIMARY KEY (`numExam`,`matricula`),
  ADD KEY `matricula` (`matricula`);

--
-- Indices de la tabla `asignacion`
--
ALTER TABLE `asignacion`
  ADD PRIMARY KEY (`cursonum`,`grupo`),
  ADD KEY `grupo` (`grupo`),
  ADD KEY `numEmpleado` (`numEmpleado`);

--
-- Indices de la tabla `curso`
--
ALTER TABLE `curso`
  ADD PRIMARY KEY (`cursonum`),
  ADD KEY `numEstado` (`numEstado`);

--
-- Indices de la tabla `docente`
--
ALTER TABLE `docente`
  ADD PRIMARY KEY (`numEmpleado`);

--
-- Indices de la tabla `estado`
--
ALTER TABLE `estado`
  ADD PRIMARY KEY (`numEstado`);

--
-- Indices de la tabla `examen`
--
ALTER TABLE `examen`
  ADD PRIMARY KEY (`numExam`),
  ADD KEY `numEstado` (`numEstado`),
  ADD KEY `numempleado` (`numempleado`),
  ADD KEY `fk_cursonum` (`cursonum`);

--
-- Indices de la tabla `grupo`
--
ALTER TABLE `grupo`
  ADD PRIMARY KEY (`grupo`);

--
-- Indices de la tabla `grupohistorial`
--
ALTER TABLE `grupohistorial`
  ADD PRIMARY KEY (`numero`),
  ADD KEY `grupo_numero` (`grupo_numero`),
  ADD KEY `alumno_matricula` (`alumno_matricula`);

--
-- Indices de la tabla `pregunta`
--
ALTER TABLE `pregunta`
  ADD PRIMARY KEY (`numPregunta`),
  ADD KEY `numExam` (`numExam`),
  ADD KEY `codeTipo` (`codeTipo`);

--
-- Indices de la tabla `registro`
--
ALTER TABLE `registro`
  ADD PRIMARY KEY (`matricula`,`grupo`),
  ADD KEY `grupo` (`grupo`);

--
-- Indices de la tabla `respuesta`
--
ALTER TABLE `respuesta`
  ADD PRIMARY KEY (`numRespuesta`),
  ADD KEY `respuesta_ibfk_1` (`pregunta`);

--
-- Indices de la tabla `tema`
--
ALTER TABLE `tema`
  ADD PRIMARY KEY (`numTema`),
  ADD KEY `cursonum` (`cursonum`);

--
-- Indices de la tabla `tema_examen`
--
ALTER TABLE `tema_examen`
  ADD PRIMARY KEY (`numTema`,`numExam`),
  ADD KEY `numExam` (`numExam`);

--
-- Indices de la tabla `tipo_pregunta`
--
ALTER TABLE `tipo_pregunta`
  ADD PRIMARY KEY (`codeTipo`);

--
-- Indices de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `curso`
--
ALTER TABLE `curso`
  MODIFY `cursonum` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;

--
-- AUTO_INCREMENT de la tabla `examen`
--
ALTER TABLE `examen`
  MODIFY `numExam` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=43;

--
-- AUTO_INCREMENT de la tabla `grupo`
--
ALTER TABLE `grupo`
  MODIFY `grupo` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT de la tabla `grupohistorial`
--
ALTER TABLE `grupohistorial`
  MODIFY `numero` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT de la tabla `pregunta`
--
ALTER TABLE `pregunta`
  MODIFY `numPregunta` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=131;

--
-- AUTO_INCREMENT de la tabla `respuesta`
--
ALTER TABLE `respuesta`
  MODIFY `numRespuesta` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=380;

--
-- AUTO_INCREMENT de la tabla `tema`
--
ALTER TABLE `tema`
  MODIFY `numTema` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=105;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `alumno_examen`
--
ALTER TABLE `alumno_examen`
  ADD CONSTRAINT `alumno_examen_ibfk_1` FOREIGN KEY (`numExam`) REFERENCES `examen` (`numExam`),
  ADD CONSTRAINT `alumno_examen_ibfk_2` FOREIGN KEY (`matricula`) REFERENCES `alumno` (`matricula`);

--
-- Filtros para la tabla `asignacion`
--
ALTER TABLE `asignacion`
  ADD CONSTRAINT `asignacion_ibfk_1` FOREIGN KEY (`cursonum`) REFERENCES `curso` (`cursonum`),
  ADD CONSTRAINT `asignacion_ibfk_2` FOREIGN KEY (`grupo`) REFERENCES `grupo` (`grupo`),
  ADD CONSTRAINT `asignacion_ibfk_3` FOREIGN KEY (`numEmpleado`) REFERENCES `docente` (`numEmpleado`);

--
-- Filtros para la tabla `curso`
--
ALTER TABLE `curso`
  ADD CONSTRAINT `curso_ibfk_1` FOREIGN KEY (`numEstado`) REFERENCES `estado` (`numEstado`);

--
-- Filtros para la tabla `examen`
--
ALTER TABLE `examen`
  ADD CONSTRAINT `examen_ibfk_1` FOREIGN KEY (`numEstado`) REFERENCES `estado` (`numEstado`),
  ADD CONSTRAINT `examen_ibfk_2` FOREIGN KEY (`numempleado`) REFERENCES `docente` (`numEmpleado`),
  ADD CONSTRAINT `fk_cursonum` FOREIGN KEY (`cursonum`) REFERENCES `curso` (`cursonum`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `grupohistorial`
--
ALTER TABLE `grupohistorial`
  ADD CONSTRAINT `grupohistorial_ibfk_1` FOREIGN KEY (`grupo_numero`) REFERENCES `grupo` (`grupo`),
  ADD CONSTRAINT `grupohistorial_ibfk_2` FOREIGN KEY (`alumno_matricula`) REFERENCES `alumno` (`matricula`);

--
-- Filtros para la tabla `pregunta`
--
ALTER TABLE `pregunta`
  ADD CONSTRAINT `pregunta_ibfk_1` FOREIGN KEY (`numExam`) REFERENCES `examen` (`numExam`),
  ADD CONSTRAINT `pregunta_ibfk_2` FOREIGN KEY (`codeTipo`) REFERENCES `tipo_pregunta` (`codeTipo`);

--
-- Filtros para la tabla `registro`
--
ALTER TABLE `registro`
  ADD CONSTRAINT `registro_ibfk_1` FOREIGN KEY (`matricula`) REFERENCES `alumno` (`matricula`),
  ADD CONSTRAINT `registro_ibfk_2` FOREIGN KEY (`grupo`) REFERENCES `grupo` (`grupo`);

--
-- Filtros para la tabla `respuesta`
--
ALTER TABLE `respuesta`
  ADD CONSTRAINT `respuesta_ibfk_1` FOREIGN KEY (`pregunta`) REFERENCES `pregunta` (`numPregunta`);

--
-- Filtros para la tabla `tema`
--
ALTER TABLE `tema`
  ADD CONSTRAINT `tema_ibfk_1` FOREIGN KEY (`cursonum`) REFERENCES `curso` (`cursonum`);

--
-- Filtros para la tabla `tema_examen`
--
ALTER TABLE `tema_examen`
  ADD CONSTRAINT `tema_examen_ibfk_1` FOREIGN KEY (`numTema`) REFERENCES `tema` (`numTema`),
  ADD CONSTRAINT `tema_examen_ibfk_2` FOREIGN KEY (`numExam`) REFERENCES `examen` (`numExam`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

